<!DOCTYPE html>
<html lang="" xml:lang="">
  <head>
    <title>purrr flipbook</title>
    <meta charset="utf-8" />
    <meta name="author" content="  Gina Reynolds, April 2019" />
    <link href="libs/remark-css-0.0.1/kunoichi.css" rel="stylesheet" />
    <link href="libs/remark-css-0.0.1/ninjutsu.css" rel="stylesheet" />
    <script src="libs/clipboard-2.0.6/clipboard.min.js"></script>
    <link href="libs/shareon-1.4.1/shareon.min.css" rel="stylesheet" />
    <script src="libs/shareon-1.4.1/shareon.min.js"></script>
    <link href="libs/xaringanExtra-shareagain-0.2.1/shareagain.css" rel="stylesheet" />
    <script src="libs/xaringanExtra-shareagain-0.2.1/shareagain.js"></script>
  </head>
  <body>
    <textarea id="source">


class: left, top, inverse
background-image: url(https://images.unsplash.com/photo-1575950670249-de0b72289e97?ixlib=rb-1.2.1&amp;auto=format&amp;fit=crop&amp;w=1050&amp;q=80)
background-size: cover

# .large[{purrr}]
### An exploration &lt;br&gt;with {flipbookr}&lt;br&gt;and {xaringan}

&lt;br&gt;
&lt;br&gt;
&lt;br&gt;
&lt;br&gt;
&lt;br&gt;
&lt;br&gt;
&lt;br&gt;
&lt;br&gt;
&lt;br&gt;
&lt;br&gt;
&lt;br&gt;
&lt;br&gt;
&lt;br&gt;
&lt;br&gt;
&lt;br&gt;
&lt;br&gt;
&lt;br&gt;

#### .right[Edited: Gina Reynolds&lt;br&gt;Photo Credit: Leighann Blackwood]

---






# What's purrr? 

Quoting from purrr.tidyverse.org:

&gt; purrr enhances R’s functional programming (FP) toolkit by providing a complete and consistent set of tools for working with functions and vectors. If you’ve never heard of FP before, the best place to start is the family of map() functions which allow you to replace many for loops with code that is both more succinct and easier to read. The best place to learn about the map() functions is the iteration chapter in R for data science.









Then, in an R script or .Rmd you can use and execute the following code: 


```r
options(scipen = 10) # adjust when scientific notation turns on
library(tidyverse)
```


---
# Data structures

---

count: false
 

.panel1-simple_vector-auto[

```r
*c(1, 4, 2, 6)   # is the concatenate function
```
]
 
.panel2-simple_vector-auto[

```
  [1] 1 4 2 6
```
]

---
count: false
 

.panel1-simple_vector-auto[

```r
c(1, 4, 2, 6) -&gt;  # is the concatenate function
* my_vector  # Now we've done the assignment
```
]
 
.panel2-simple_vector-auto[

]

---
count: false
 

.panel1-simple_vector-auto[

```r
c(1, 4, 2, 6) -&gt;  # is the concatenate function
  my_vector  # Now we've done the assignment

# we can pull out element 3 using brackets
*my_vector
```
]
 
.panel2-simple_vector-auto[

```
  [1] 1 4 2 6
```
]

---
count: false
 

.panel1-simple_vector-auto[

```r
c(1, 4, 2, 6) -&gt;  # is the concatenate function
  my_vector  # Now we've done the assignment

# we can pull out element 3 using brackets
my_vector %&gt;%
* .[3]
```
]
 
.panel2-simple_vector-auto[

```
  [1] 2
```
]

---
count: false
 

.panel1-simple_vector-auto[

```r
c(1, 4, 2, 6) -&gt;  # is the concatenate function
  my_vector  # Now we've done the assignment

# we can pull out element 3 using brackets
my_vector %&gt;%
  .[3]

# The above is a line by line version of the following
*my_vector[3]
```
]
 
.panel2-simple_vector-auto[

```
  [1] 2
```

```
  [1] 2
```
]

&lt;style&gt;
.panel1-simple_vector-auto {
  color: black;
  width: 24.25%;
  hight: 32%;
  float: left;
  padding-left: 1%;
  font-size: 80%
}
.panel2-simple_vector-auto {
  color: black;
  width: 36.375%;
  hight: 32%;
  float: left;
  padding-left: 1%;
  font-size: 80%
}
.panel3-simple_vector-auto {
  color: grey;
  width: 36.375%;
  hight: 33%;
  float: left;
  padding-left: 1%;
  font-size: 80%
}
&lt;/style&gt;







---




count: false
 

.panel1-simple_vector-auto[

```r
*c(1, 4, 2, 6)   # is the concatenate function
```
]
 
.panel2-simple_vector-auto[

```
  [1] 1 4 2 6
```
]

---
count: false
 

.panel1-simple_vector-auto[

```r
c(1, 4, 2, 6) -&gt;  # is the concatenate function
* my_vector  # Now we've done the assignment
```
]
 
.panel2-simple_vector-auto[

]

---
count: false
 

.panel1-simple_vector-auto[

```r
c(1, 4, 2, 6) -&gt;  # is the concatenate function
  my_vector  # Now we've done the assignment

# we can pull out element 3 using brackets
*my_vector
```
]
 
.panel2-simple_vector-auto[

```
  [1] 1 4 2 6
```
]

---
count: false
 

.panel1-simple_vector-auto[

```r
c(1, 4, 2, 6) -&gt;  # is the concatenate function
  my_vector  # Now we've done the assignment

# we can pull out element 3 using brackets
my_vector %&gt;%
* .[3]
```
]
 
.panel2-simple_vector-auto[

```
  [1] 2
```
]

---
count: false
 

.panel1-simple_vector-auto[

```r
c(1, 4, 2, 6) -&gt;  # is the concatenate function
  my_vector  # Now we've done the assignment

# we can pull out element 3 using brackets
my_vector %&gt;%
  .[3]

# The above is a line by line version of the following
*my_vector[3]
```
]
 
.panel2-simple_vector-auto[

```
  [1] 2
```

```
  [1] 2
```
]

&lt;style&gt;
.panel1-simple_vector-auto {
  color: black;
  width: 58.4040404040404%;
  hight: 32%;
  float: left;
  padding-left: 1%;
  font-size: 80%
}
.panel2-simple_vector-auto {
  color: black;
  width: 39.5959595959596%;
  hight: 32%;
  float: left;
  padding-left: 1%;
  font-size: 80%
}
.panel3-simple_vector-auto {
  color: black;
  width: NA%;
  hight: 33%;
  float: left;
  padding-left: 1%;
  font-size: 80%
}
&lt;/style&gt;



---

## Matrix

---
count: false
 

.panel1-simple_matrix-auto[

```r
*matrix(1:15, nrow = 3)
```
]
 
.panel2-simple_matrix-auto[

```
       [,1] [,2] [,3] [,4] [,5]
  [1,]    1    4    7   10   13
  [2,]    2    5    8   11   14
  [3,]    3    6    9   12   15
```
]

---
count: false
 

.panel1-simple_matrix-auto[

```r
matrix(1:15, nrow = 3) %&gt;%
# specify which row and which columns
* .[2, 3:4]
```
]
 
.panel2-simple_matrix-auto[

```
  [1]  8 11
```
]

---
count: false
 

.panel1-simple_matrix-auto[

```r
matrix(1:15, nrow = 3) %&gt;%
# specify which row and which columns
  .[2, 3:4] %&gt;%
# which element in a vector
* .[2]
```
]
 
.panel2-simple_matrix-auto[

```
  [1] 11
```
]

---
count: false
 

.panel1-simple_matrix-auto[

```r
matrix(1:15, nrow = 3) %&gt;%
# specify which row and which columns
  .[2, 3:4] %&gt;%
# which element in a vector
  .[2]

# You can do this in one line
*matrix(1:15, nrow = 3)[2, 3:4][2]
```
]
 
.panel2-simple_matrix-auto[

```
  [1] 11
```

```
  [1] 11
```
]

&lt;style&gt;
.panel1-simple_matrix-auto {
  color: black;
  width: 58.4040404040404%;
  hight: 32%;
  float: left;
  padding-left: 1%;
  font-size: 80%
}
.panel2-simple_matrix-auto {
  color: black;
  width: 39.5959595959596%;
  hight: 32%;
  float: left;
  padding-left: 1%;
  font-size: 80%
}
.panel3-simple_matrix-auto {
  color: black;
  width: NA%;
  hight: 33%;
  float: left;
  padding-left: 1%;
  font-size: 80%
}
&lt;/style&gt;






---

## Lists

lists are flexible data structures, but this might make them feel trickier.

---



---


count: false
 

.panel1-some_purrr-rotate[

```r
my_list

# some map function from purrr
# try to describe the behavior of each
*purrr::map(my_list, length)
```
]
 
.panel2-some_purrr-rotate[

```
  [[1]]
  [1] "apple"
  
  [[2]]
  [1] 2 3 4 5
  
  [[3]]
  [[3]][[1]]
  [1] "hi"
  
  [[3]][[2]]
  [1] "bye"     "bye-bye"
  
  
  [[4]]
  NULL
```

```
  [[1]]
  [1] 1
  
  [[2]]
  [1] 4
  
  [[3]]
  [1] 2
  
  [[4]]
  [1] 0
```
]

---
count: false
 

.panel1-some_purrr-rotate[

```r
my_list

# some map function from purrr
# try to describe the behavior of each
*purrr::map_int(my_list, length)
```
]
 
.panel2-some_purrr-rotate[

```
  [[1]]
  [1] "apple"
  
  [[2]]
  [1] 2 3 4 5
  
  [[3]]
  [[3]][[1]]
  [1] "hi"
  
  [[3]][[2]]
  [1] "bye"     "bye-bye"
  
  
  [[4]]
  NULL
```

```
  [1] 1 4 2 0
```
]

---
count: false
 

.panel1-some_purrr-rotate[

```r
my_list

# some map function from purrr
# try to describe the behavior of each
*purrr::map_chr(my_list, length)
```
]
 
.panel2-some_purrr-rotate[

```
  [[1]]
  [1] "apple"
  
  [[2]]
  [1] 2 3 4 5
  
  [[3]]
  [[3]][[1]]
  [1] "hi"
  
  [[3]][[2]]
  [1] "bye"     "bye-bye"
  
  
  [[4]]
  NULL
```

```
  [1] "1" "4" "2" "0"
```
]

---
count: false
 

.panel1-some_purrr-rotate[

```r
my_list

# some map function from purrr
# try to describe the behavior of each
*purrr::pluck(my_list, 2)
```
]
 
.panel2-some_purrr-rotate[

```
  [[1]]
  [1] "apple"
  
  [[2]]
  [1] 2 3 4 5
  
  [[3]]
  [[3]][[1]]
  [1] "hi"
  
  [[3]][[2]]
  [1] "bye"     "bye-bye"
  
  
  [[4]]
  NULL
```

```
  [1] 2 3 4 5
```
]

---
count: false
 

.panel1-some_purrr-rotate[

```r
my_list

# some map function from purrr
# try to describe the behavior of each
*purrr::keep(my_list, is.character)
```
]
 
.panel2-some_purrr-rotate[

```
  [[1]]
  [1] "apple"
  
  [[2]]
  [1] 2 3 4 5
  
  [[3]]
  [[3]][[1]]
  [1] "hi"
  
  [[3]][[2]]
  [1] "bye"     "bye-bye"
  
  
  [[4]]
  NULL
```

```
  [[1]]
  [1] "apple"
```
]

---
count: false
 

.panel1-some_purrr-rotate[

```r
my_list

# some map function from purrr
# try to describe the behavior of each
*purrr::discard(my_list, is.character)
```
]
 
.panel2-some_purrr-rotate[

```
  [[1]]
  [1] "apple"
  
  [[2]]
  [1] 2 3 4 5
  
  [[3]]
  [[3]][[1]]
  [1] "hi"
  
  [[3]][[2]]
  [1] "bye"     "bye-bye"
  
  
  [[4]]
  NULL
```

```
  [[1]]
  [1] 2 3 4 5
  
  [[2]]
  [[2]][[1]]
  [1] "hi"
  
  [[2]][[2]]
  [1] "bye"     "bye-bye"
  
  
  [[3]]
  NULL
```
]

---
count: false
 

.panel1-some_purrr-rotate[

```r
my_list

# some map function from purrr
# try to describe the behavior of each
*purrr::keep(my_list, is.list)
```
]
 
.panel2-some_purrr-rotate[

```
  [[1]]
  [1] "apple"
  
  [[2]]
  [1] 2 3 4 5
  
  [[3]]
  [[3]][[1]]
  [1] "hi"
  
  [[3]][[2]]
  [1] "bye"     "bye-bye"
  
  
  [[4]]
  NULL
```

```
  [[1]]
  [[1]][[1]]
  [1] "hi"
  
  [[1]][[2]]
  [1] "bye"     "bye-bye"
```
]

---
count: false
 

.panel1-some_purrr-rotate[

```r
my_list

# some map function from purrr
# try to describe the behavior of each
*purrr::compact(my_list)
```
]
 
.panel2-some_purrr-rotate[

```
  [[1]]
  [1] "apple"
  
  [[2]]
  [1] 2 3 4 5
  
  [[3]]
  [[3]][[1]]
  [1] "hi"
  
  [[3]][[2]]
  [1] "bye"     "bye-bye"
  
  
  [[4]]
  NULL
```

```
  [[1]]
  [1] "apple"
  
  [[2]]
  [1] 2 3 4 5
  
  [[3]]
  [[3]][[1]]
  [1] "hi"
  
  [[3]][[2]]
  [1] "bye"     "bye-bye"
```
]

---
count: false
 

.panel1-some_purrr-rotate[

```r
my_list

# some map function from purrr
# try to describe the behavior of each
*purrr::flatten(my_list)
```
]
 
.panel2-some_purrr-rotate[

```
  [[1]]
  [1] "apple"
  
  [[2]]
  [1] 2 3 4 5
  
  [[3]]
  [[3]][[1]]
  [1] "hi"
  
  [[3]][[2]]
  [1] "bye"     "bye-bye"
  
  
  [[4]]
  NULL
```

```
  [[1]]
  [1] "apple"
  
  [[2]]
  [1] 2
  
  [[3]]
  [1] 3
  
  [[4]]
  [1] 4
  
  [[5]]
  [1] 5
  
  [[6]]
  [1] "hi"
  
  [[7]]
  [1] "bye"     "bye-bye"
```
]

---
count: false
 

.panel1-some_purrr-rotate[

```r
my_list

# some map function from purrr
# try to describe the behavior of each
*purrr::every(my_list, is.list)
```
]
 
.panel2-some_purrr-rotate[

```
  [[1]]
  [1] "apple"
  
  [[2]]
  [1] 2 3 4 5
  
  [[3]]
  [[3]][[1]]
  [1] "hi"
  
  [[3]][[2]]
  [1] "bye"     "bye-bye"
  
  
  [[4]]
  NULL
```

```
  [1] FALSE
```
]

---
count: false
 

.panel1-some_purrr-rotate[

```r
my_list

# some map function from purrr
# try to describe the behavior of each
*purrr::some(my_list, is.list)
```
]
 
.panel2-some_purrr-rotate[

```
  [[1]]
  [1] "apple"
  
  [[2]]
  [1] 2 3 4 5
  
  [[3]]
  [[3]][[1]]
  [1] "hi"
  
  [[3]][[2]]
  [1] "bye"     "bye-bye"
  
  
  [[4]]
  NULL
```

```
  [1] TRUE
```
]

---
count: false
 

.panel1-some_purrr-rotate[

```r
my_list

# some map function from purrr
# try to describe the behavior of each
*purrr::has_element(my_list, 2:5)
```
]
 
.panel2-some_purrr-rotate[

```
  [[1]]
  [1] "apple"
  
  [[2]]
  [1] 2 3 4 5
  
  [[3]]
  [[3]][[1]]
  [1] "hi"
  
  [[3]][[2]]
  [1] "bye"     "bye-bye"
  
  
  [[4]]
  NULL
```

```
  [1] TRUE
```
]

&lt;style&gt;
.panel1-some_purrr-rotate {
  color: black;
  width: 38.6060606060606%;
  hight: 32%;
  float: left;
  padding-left: 1%;
  font-size: 80%
}
.panel2-some_purrr-rotate {
  color: black;
  width: 59.3939393939394%;
  hight: 32%;
  float: left;
  padding-left: 1%;
  font-size: 80%
}
.panel3-some_purrr-rotate {
  color: black;
  width: NA%;
  hight: 33%;
  float: left;
  padding-left: 1%;
  font-size: 80%
}
&lt;/style&gt;






---

# Simple Named lists




---



count: false
 

.panel1-named_lists-auto[

```r
*list(thing_1 = "a",
*    thing_2 = matrix(data = 1:5, nrow = 2))
```
]
 
.panel2-named_lists-auto[

```
  $thing_1
  [1] "a"
  
  $thing_2
       [,1] [,2] [,3]
  [1,]    1    3    5
  [2,]    2    4    1
```
]

---
count: false
 

.panel1-named_lists-auto[

```r
list(thing_1 = "a",
     thing_2 = matrix(data = 1:5, nrow = 2)) -&gt;
* my_named_list
```
]
 
.panel2-named_lists-auto[

]

---
count: false
 

.panel1-named_lists-auto[

```r
list(thing_1 = "a",
     thing_2 = matrix(data = 1:5, nrow = 2)) -&gt;
  my_named_list

*my_named_list
```
]
 
.panel2-named_lists-auto[

```
  $thing_1
  [1] "a"
  
  $thing_2
       [,1] [,2] [,3]
  [1,]    1    3    5
  [2,]    2    4    1
```
]

---
count: false
 

.panel1-named_lists-auto[

```r
list(thing_1 = "a",
     thing_2 = matrix(data = 1:5, nrow = 2)) -&gt;
  my_named_list

my_named_list %&gt;%
* .$thing_1   # access via dollar sign
```
]
 
.panel2-named_lists-auto[

```
  [1] "a"
```
]

---
count: false
 

.panel1-named_lists-auto[

```r
list(thing_1 = "a",
     thing_2 = matrix(data = 1:5, nrow = 2)) -&gt;
  my_named_list

my_named_list %&gt;%
  .$thing_1 -&gt;  # access via dollar sign
*grabbed_thing_1
```
]
 
.panel2-named_lists-auto[

]

---
count: false
 

.panel1-named_lists-auto[

```r
list(thing_1 = "a",
     thing_2 = matrix(data = 1:5, nrow = 2)) -&gt;
  my_named_list

my_named_list %&gt;%
  .$thing_1 -&gt;  # access via dollar sign
grabbed_thing_1

*my_named_list
```
]
 
.panel2-named_lists-auto[

```
  $thing_1
  [1] "a"
  
  $thing_2
       [,1] [,2] [,3]
  [1,]    1    3    5
  [2,]    2    4    1
```
]

---
count: false
 

.panel1-named_lists-auto[

```r
list(thing_1 = "a",
     thing_2 = matrix(data = 1:5, nrow = 2)) -&gt;
  my_named_list

my_named_list %&gt;%
  .$thing_1 -&gt;  # access via dollar sign
grabbed_thing_1

my_named_list %&gt;%
* .[[1]]   # access via brackets
```
]
 
.panel2-named_lists-auto[

```
  [1] "a"
```
]

---
count: false
 

.panel1-named_lists-auto[

```r
list(thing_1 = "a",
     thing_2 = matrix(data = 1:5, nrow = 2)) -&gt;
  my_named_list

my_named_list %&gt;%
  .$thing_1 -&gt;  # access via dollar sign
grabbed_thing_1

my_named_list %&gt;%
  .[[1]] -&gt;  # access via brackets
*grabbed_thing_1
```
]
 
.panel2-named_lists-auto[

]

&lt;style&gt;
.panel1-named_lists-auto {
  color: black;
  width: 58.4040404040404%;
  hight: 32%;
  float: left;
  padding-left: 1%;
  font-size: 80%
}
.panel2-named_lists-auto {
  color: black;
  width: 39.5959595959596%;
  hight: 32%;
  float: left;
  padding-left: 1%;
  font-size: 80%
}
.panel3-named_lists-auto {
  color: black;
  width: NA%;
  hight: 33%;
  float: left;
  padding-left: 1%;
  font-size: 80%
}
&lt;/style&gt;





---

# Lists containing lists (complex lists)







---

count: false
 

.panel1-lists_of_lists-auto[

```r
*list(thing_1 = "a",
*    thing_2 = matrix(data = 1:5, nrow = 2))
```
]
 
.panel2-lists_of_lists-auto[

```
  $thing_1
  [1] "a"
  
  $thing_2
       [,1] [,2] [,3]
  [1,]    1    3    5
  [2,]    2    4    1
```
]

---
count: false
 

.panel1-lists_of_lists-auto[

```r
list(thing_1 = "a",
     thing_2 = matrix(data = 1:5, nrow = 2)) -&gt;
*my_named_list
```
]
 
.panel2-lists_of_lists-auto[

]

---
count: false
 

.panel1-lists_of_lists-auto[

```r
list(thing_1 = "a",
     thing_2 = matrix(data = 1:5, nrow = 2)) -&gt;
my_named_list

*list(
* "a",  # scalar
* 1:5,  # vector
* my_named_list  # list
*    )
```
]
 
.panel2-lists_of_lists-auto[

```
  [[1]]
  [1] "a"
  
  [[2]]
  [1] 1 2 3 4 5
  
  [[3]]
  [[3]]$thing_1
  [1] "a"
  
  [[3]]$thing_2
       [,1] [,2] [,3]
  [1,]    1    3    5
  [2,]    2    4    1
```
]

---
count: false
 

.panel1-lists_of_lists-auto[

```r
list(thing_1 = "a",
     thing_2 = matrix(data = 1:5, nrow = 2)) -&gt;
my_named_list

list(
  "a",  # scalar
  1:5,  # vector
  my_named_list  # list
     ) %&gt;%
* .[[3]]   # drilling down w brackets
```
]
 
.panel2-lists_of_lists-auto[

```
  $thing_1
  [1] "a"
  
  $thing_2
       [,1] [,2] [,3]
  [1,]    1    3    5
  [2,]    2    4    1
```
]

---
count: false
 

.panel1-lists_of_lists-auto[

```r
list(thing_1 = "a",
     thing_2 = matrix(data = 1:5, nrow = 2)) -&gt;
my_named_list

list(
  "a",  # scalar
  1:5,  # vector
  my_named_list  # list
     ) %&gt;%
  .[[3]] %&gt;%  # drilling down w brackets
* .$thing_2   # with dollar sign and name
```
]
 
.panel2-lists_of_lists-auto[

```
       [,1] [,2] [,3]
  [1,]    1    3    5
  [2,]    2    4    1
```
]

---
count: false
 

.panel1-lists_of_lists-auto[

```r
list(thing_1 = "a",
     thing_2 = matrix(data = 1:5, nrow = 2)) -&gt;
my_named_list

list(
  "a",  # scalar
  1:5,  # vector
  my_named_list  # list
     ) %&gt;%
  .[[3]] %&gt;%  # drilling down w brackets
  .$thing_2 %&gt;%  # with dollar sign and name
* .[3]   # with single brackets element in vector
```
]
 
.panel2-lists_of_lists-auto[

```
  [1] 3
```
]

---
count: false
 

.panel1-lists_of_lists-auto[

```r
list(thing_1 = "a",
     thing_2 = matrix(data = 1:5, nrow = 2)) -&gt;
my_named_list

list(
  "a",  # scalar
  1:5,  # vector
  my_named_list  # list
     ) %&gt;%
  .[[3]] %&gt;%  # drilling down w brackets
  .$thing_2 %&gt;%  # with dollar sign and name
  .[3] -&gt;  # with single brackets element in vector
*lists_within_lists
```
]
 
.panel2-lists_of_lists-auto[

]

&lt;style&gt;
.panel1-lists_of_lists-auto {
  color: black;
  width: 58.4040404040404%;
  hight: 32%;
  float: left;
  padding-left: 1%;
  font-size: 80%
}
.panel2-lists_of_lists-auto {
  color: black;
  width: 39.5959595959596%;
  hight: 32%;
  float: left;
  padding-left: 1%;
  font-size: 80%
}
.panel3-lists_of_lists-auto {
  color: black;
  width: NA%;
  hight: 33%;
  float: left;
  padding-left: 1%;
  font-size: 80%
}
&lt;/style&gt;




---



count: false
 

.panel1-statistical_function_returns-auto[

```r
*set.seed(87463)
```
]
 
.panel2-statistical_function_returns-auto[

]

---
count: false
 

.panel1-statistical_function_returns-auto[

```r
set.seed(87463)
*corr &lt;- cor.test(rnorm(50), rnorm(50))
```
]
 
.panel2-statistical_function_returns-auto[

]

---
count: false
 

.panel1-statistical_function_returns-auto[

```r
set.seed(87463)
corr &lt;- cor.test(rnorm(50), rnorm(50))

*corr
```
]
 
.panel2-statistical_function_returns-auto[

```
  
  	Pearson's product-moment correlation
  
  data:  rnorm(50) and rnorm(50)
  t = -0.5516, df = 48, p-value = 0.5838
  alternative hypothesis: true correlation is not equal to 0
  95 percent confidence interval:
   -0.3499814  0.2034776
  sample estimates:
          cor 
  -0.07936516
```
]

---
count: false
 

.panel1-statistical_function_returns-auto[

```r
set.seed(87463)
corr &lt;- cor.test(rnorm(50), rnorm(50))

corr %&gt;%
* str()
```
]
 
.panel2-statistical_function_returns-auto[

```
  List of 9
   $ statistic  : Named num -0.552
    ..- attr(*, "names")= chr "t"
   $ parameter  : Named int 48
    ..- attr(*, "names")= chr "df"
   $ p.value    : num 0.584
   $ estimate   : Named num -0.0794
    ..- attr(*, "names")= chr "cor"
   $ null.value : Named num 0
    ..- attr(*, "names")= chr "correlation"
   $ alternative: chr "two.sided"
   $ method     : chr "Pearson's product-moment correlation"
   $ data.name  : chr "rnorm(50) and rnorm(50)"
   $ conf.int   : num [1:2] -0.35 0.203
    ..- attr(*, "conf.level")= num 0.95
   - attr(*, "class")= chr "htest"
```
]

---
count: false
 

.panel1-statistical_function_returns-auto[

```r
set.seed(87463)
corr &lt;- cor.test(rnorm(50), rnorm(50))

corr %&gt;%
  str()

# drilling down with dollar sign and name
*corr
```
]
 
.panel2-statistical_function_returns-auto[

```
  List of 9
   $ statistic  : Named num -0.552
    ..- attr(*, "names")= chr "t"
   $ parameter  : Named int 48
    ..- attr(*, "names")= chr "df"
   $ p.value    : num 0.584
   $ estimate   : Named num -0.0794
    ..- attr(*, "names")= chr "cor"
   $ null.value : Named num 0
    ..- attr(*, "names")= chr "correlation"
   $ alternative: chr "two.sided"
   $ method     : chr "Pearson's product-moment correlation"
   $ data.name  : chr "rnorm(50) and rnorm(50)"
   $ conf.int   : num [1:2] -0.35 0.203
    ..- attr(*, "conf.level")= num 0.95
   - attr(*, "class")= chr "htest"
```

```
  
  	Pearson's product-moment correlation
  
  data:  rnorm(50) and rnorm(50)
  t = -0.5516, df = 48, p-value = 0.5838
  alternative hypothesis: true correlation is not equal to 0
  95 percent confidence interval:
   -0.3499814  0.2034776
  sample estimates:
          cor 
  -0.07936516
```
]

---
count: false
 

.panel1-statistical_function_returns-auto[

```r
set.seed(87463)
corr &lt;- cor.test(rnorm(50), rnorm(50))

corr %&gt;%
  str()

# drilling down with dollar sign and name
corr %&gt;%
* .$estimate
```
]
 
.panel2-statistical_function_returns-auto[

```
  List of 9
   $ statistic  : Named num -0.552
    ..- attr(*, "names")= chr "t"
   $ parameter  : Named int 48
    ..- attr(*, "names")= chr "df"
   $ p.value    : num 0.584
   $ estimate   : Named num -0.0794
    ..- attr(*, "names")= chr "cor"
   $ null.value : Named num 0
    ..- attr(*, "names")= chr "correlation"
   $ alternative: chr "two.sided"
   $ method     : chr "Pearson's product-moment correlation"
   $ data.name  : chr "rnorm(50) and rnorm(50)"
   $ conf.int   : num [1:2] -0.35 0.203
    ..- attr(*, "conf.level")= num 0.95
   - attr(*, "class")= chr "htest"
```

```
          cor 
  -0.07936516
```
]

---
count: false
 

.panel1-statistical_function_returns-auto[

```r
set.seed(87463)
corr &lt;- cor.test(rnorm(50), rnorm(50))

corr %&gt;%
  str()

# drilling down with dollar sign and name
corr %&gt;%
  .$estimate %&gt;%
* .[[1]]
```
]
 
.panel2-statistical_function_returns-auto[

```
  List of 9
   $ statistic  : Named num -0.552
    ..- attr(*, "names")= chr "t"
   $ parameter  : Named int 48
    ..- attr(*, "names")= chr "df"
   $ p.value    : num 0.584
   $ estimate   : Named num -0.0794
    ..- attr(*, "names")= chr "cor"
   $ null.value : Named num 0
    ..- attr(*, "names")= chr "correlation"
   $ alternative: chr "two.sided"
   $ method     : chr "Pearson's product-moment correlation"
   $ data.name  : chr "rnorm(50) and rnorm(50)"
   $ conf.int   : num [1:2] -0.35 0.203
    ..- attr(*, "conf.level")= num 0.95
   - attr(*, "class")= chr "htest"
```

```
  [1] -0.07936516
```
]

---
count: false
 

.panel1-statistical_function_returns-auto[

```r
set.seed(87463)
corr &lt;- cor.test(rnorm(50), rnorm(50))

corr %&gt;%
  str()

# drilling down with dollar sign and name
corr %&gt;%
  .$estimate %&gt;%
  .[[1]] -&gt;
*extracted_estimate
```
]
 
.panel2-statistical_function_returns-auto[

```
  List of 9
   $ statistic  : Named num -0.552
    ..- attr(*, "names")= chr "t"
   $ parameter  : Named int 48
    ..- attr(*, "names")= chr "df"
   $ p.value    : num 0.584
   $ estimate   : Named num -0.0794
    ..- attr(*, "names")= chr "cor"
   $ null.value : Named num 0
    ..- attr(*, "names")= chr "correlation"
   $ alternative: chr "two.sided"
   $ method     : chr "Pearson's product-moment correlation"
   $ data.name  : chr "rnorm(50) and rnorm(50)"
   $ conf.int   : num [1:2] -0.35 0.203
    ..- attr(*, "conf.level")= num 0.95
   - attr(*, "class")= chr "htest"
```
]

---
count: false
 

.panel1-statistical_function_returns-auto[

```r
set.seed(87463)
corr &lt;- cor.test(rnorm(50), rnorm(50))

corr %&gt;%
  str()

# drilling down with dollar sign and name
corr %&gt;%
  .$estimate %&gt;%
  .[[1]] -&gt;
extracted_estimate

# drilling down with brackets
*corr
```
]
 
.panel2-statistical_function_returns-auto[

```
  List of 9
   $ statistic  : Named num -0.552
    ..- attr(*, "names")= chr "t"
   $ parameter  : Named int 48
    ..- attr(*, "names")= chr "df"
   $ p.value    : num 0.584
   $ estimate   : Named num -0.0794
    ..- attr(*, "names")= chr "cor"
   $ null.value : Named num 0
    ..- attr(*, "names")= chr "correlation"
   $ alternative: chr "two.sided"
   $ method     : chr "Pearson's product-moment correlation"
   $ data.name  : chr "rnorm(50) and rnorm(50)"
   $ conf.int   : num [1:2] -0.35 0.203
    ..- attr(*, "conf.level")= num 0.95
   - attr(*, "class")= chr "htest"
```

```
  
  	Pearson's product-moment correlation
  
  data:  rnorm(50) and rnorm(50)
  t = -0.5516, df = 48, p-value = 0.5838
  alternative hypothesis: true correlation is not equal to 0
  95 percent confidence interval:
   -0.3499814  0.2034776
  sample estimates:
          cor 
  -0.07936516
```
]

---
count: false
 

.panel1-statistical_function_returns-auto[

```r
set.seed(87463)
corr &lt;- cor.test(rnorm(50), rnorm(50))

corr %&gt;%
  str()

# drilling down with dollar sign and name
corr %&gt;%
  .$estimate %&gt;%
  .[[1]] -&gt;
extracted_estimate

# drilling down with brackets
corr %&gt;%
* .[[3]]
```
]
 
.panel2-statistical_function_returns-auto[

```
  List of 9
   $ statistic  : Named num -0.552
    ..- attr(*, "names")= chr "t"
   $ parameter  : Named int 48
    ..- attr(*, "names")= chr "df"
   $ p.value    : num 0.584
   $ estimate   : Named num -0.0794
    ..- attr(*, "names")= chr "cor"
   $ null.value : Named num 0
    ..- attr(*, "names")= chr "correlation"
   $ alternative: chr "two.sided"
   $ method     : chr "Pearson's product-moment correlation"
   $ data.name  : chr "rnorm(50) and rnorm(50)"
   $ conf.int   : num [1:2] -0.35 0.203
    ..- attr(*, "conf.level")= num 0.95
   - attr(*, "class")= chr "htest"
```

```
  [1] 0.5837828
```
]

---
count: false
 

.panel1-statistical_function_returns-auto[

```r
set.seed(87463)
corr &lt;- cor.test(rnorm(50), rnorm(50))

corr %&gt;%
  str()

# drilling down with dollar sign and name
corr %&gt;%
  .$estimate %&gt;%
  .[[1]] -&gt;
extracted_estimate

# drilling down with brackets
corr %&gt;%
  .[[3]] -&gt;
*extracted_pvalue
```
]
 
.panel2-statistical_function_returns-auto[

```
  List of 9
   $ statistic  : Named num -0.552
    ..- attr(*, "names")= chr "t"
   $ parameter  : Named int 48
    ..- attr(*, "names")= chr "df"
   $ p.value    : num 0.584
   $ estimate   : Named num -0.0794
    ..- attr(*, "names")= chr "cor"
   $ null.value : Named num 0
    ..- attr(*, "names")= chr "correlation"
   $ alternative: chr "two.sided"
   $ method     : chr "Pearson's product-moment correlation"
   $ data.name  : chr "rnorm(50) and rnorm(50)"
   $ conf.int   : num [1:2] -0.35 0.203
    ..- attr(*, "conf.level")= num 0.95
   - attr(*, "class")= chr "htest"
```
]

&lt;style&gt;
.panel1-statistical_function_returns-auto {
  color: black;
  width: 58.4040404040404%;
  hight: 32%;
  float: left;
  padding-left: 1%;
  font-size: 80%
}
.panel2-statistical_function_returns-auto {
  color: black;
  width: 39.5959595959596%;
  hight: 32%;
  float: left;
  padding-left: 1%;
  font-size: 80%
}
.panel3-statistical_function_returns-auto {
  color: black;
  width: NA%;
  hight: 33%;
  float: left;
  padding-left: 1%;
  font-size: 80%
}
&lt;/style&gt;



---


# single brackets or double bracket extractions


---


count: false
 

.panel1-compare-auto[

```r
# order matters
*list(
* c("mac", "granny"),
* c("naval", "blood")
* )
```
]
 
.panel2-compare-auto[

```
  [[1]]
  [1] "mac"    "granny"
  
  [[2]]
  [1] "naval" "blood"
```
]

---
count: false
 

.panel1-compare-auto[

```r
# order matters
list(
  c("mac", "granny"),
  c("naval", "blood")
  ) %&gt;%
* .[2]
```
]
 
.panel2-compare-auto[

```
  [[1]]
  [1] "naval" "blood"
```
]

---
count: false
 

.panel1-compare-auto[

```r
# order matters
list(
  c("mac", "granny"),
  c("naval", "blood")
  ) %&gt;%
  .[2] %&gt;%
* .[[1]]
```
]
 
.panel2-compare-auto[

```
  [1] "naval" "blood"
```
]

---
count: false
 

.panel1-compare-auto[

```r
# order matters
list(
  c("mac", "granny"),
  c("naval", "blood")
  ) %&gt;%
  .[2] %&gt;%
  .[[1]]


# compare with above result
*list(
* c("mac", "granny"),
* c("naval", "blood")
* )
```
]
 
.panel2-compare-auto[

```
  [1] "naval" "blood"
```

```
  [[1]]
  [1] "mac"    "granny"
  
  [[2]]
  [1] "naval" "blood"
```
]

---
count: false
 

.panel1-compare-auto[

```r
# order matters
list(
  c("mac", "granny"),
  c("naval", "blood")
  ) %&gt;%
  .[2] %&gt;%
  .[[1]]


# compare with above result
list(
  c("mac", "granny"),
  c("naval", "blood")
  ) %&gt;%
* .[[2]]
```
]
 
.panel2-compare-auto[

```
  [1] "naval" "blood"
```

```
  [1] "naval" "blood"
```
]

---
count: false
 

.panel1-compare-auto[

```r
# order matters
list(
  c("mac", "granny"),
  c("naval", "blood")
  ) %&gt;%
  .[2] %&gt;%
  .[[1]]


# compare with above result
list(
  c("mac", "granny"),
  c("naval", "blood")
  ) %&gt;%
  .[[2]] %&gt;%
* .[1]
```
]
 
.panel2-compare-auto[

```
  [1] "naval" "blood"
```

```
  [1] "naval"
```
]

&lt;style&gt;
.panel1-compare-auto {
  color: black;
  width: 58.4040404040404%;
  hight: 32%;
  float: left;
  padding-left: 1%;
  font-size: 80%
}
.panel2-compare-auto {
  color: black;
  width: 39.5959595959596%;
  hight: 32%;
  float: left;
  padding-left: 1%;
  font-size: 80%
}
.panel3-compare-auto {
  color: black;
  width: NA%;
  hight: 33%;
  float: left;
  padding-left: 1%;
  font-size: 80%
}
&lt;/style&gt;









---

count: false
 

.panel1-example-rotate[

```r
tibble(x = c(1,2,3,4,6),
       y = 1:5,
       z = list(1:2, 4:5, 8, NA, c(1,7,9,0))) %&gt;%
* tibble()  # does not do anything
```
]
 
.panel2-example-rotate[

```
  # A tibble: 5 x 3
        x     y z        
    &lt;dbl&gt; &lt;int&gt; &lt;list&gt;   
  1     1     1 &lt;int [2]&gt;
  2     2     2 &lt;int [2]&gt;
  3     3     3 &lt;dbl [1]&gt;
  4     4     4 &lt;lgl [1]&gt;
  5     6     5 &lt;dbl [4]&gt;
```
]

---
count: false
 

.panel1-example-rotate[

```r
tibble(x = c(1,2,3,4,6),
       y = 1:5,
       z = list(1:2, 4:5, 8, NA, c(1,7,9,0))) %&gt;%
* mutate(the_length = map(z, length))  #general
```
]
 
.panel2-example-rotate[

```
  # A tibble: 5 x 4
        x     y z         the_length
    &lt;dbl&gt; &lt;int&gt; &lt;list&gt;    &lt;list&gt;    
  1     1     1 &lt;int [2]&gt; &lt;int [1]&gt; 
  2     2     2 &lt;int [2]&gt; &lt;int [1]&gt; 
  3     3     3 &lt;dbl [1]&gt; &lt;int [1]&gt; 
  4     4     4 &lt;lgl [1]&gt; &lt;int [1]&gt; 
  5     6     5 &lt;dbl [4]&gt; &lt;int [1]&gt;
```
]

---
count: false
 

.panel1-example-rotate[

```r
tibble(x = c(1,2,3,4,6),
       y = 1:5,
       z = list(1:2, 4:5, 8, NA, c(1,7,9,0))) %&gt;%
* mutate(the_length = map_int(z, length))  #scalar integer
```
]
 
.panel2-example-rotate[

```
  # A tibble: 5 x 4
        x     y z         the_length
    &lt;dbl&gt; &lt;int&gt; &lt;list&gt;         &lt;int&gt;
  1     1     1 &lt;int [2]&gt;          2
  2     2     2 &lt;int [2]&gt;          2
  3     3     3 &lt;dbl [1]&gt;          1
  4     4     4 &lt;lgl [1]&gt;          1
  5     6     5 &lt;dbl [4]&gt;          4
```
]

---
count: false
 

.panel1-example-rotate[

```r
tibble(x = c(1,2,3,4,6),
       y = 1:5,
       z = list(1:2, 4:5, 8, NA, c(1,7,9,0))) %&gt;%
* mutate(the_length = map_dbl(z, length))  #scalar numeric
```
]
 
.panel2-example-rotate[

```
  # A tibble: 5 x 4
        x     y z         the_length
    &lt;dbl&gt; &lt;int&gt; &lt;list&gt;         &lt;dbl&gt;
  1     1     1 &lt;int [2]&gt;          2
  2     2     2 &lt;int [2]&gt;          2
  3     3     3 &lt;dbl [1]&gt;          1
  4     4     4 &lt;lgl [1]&gt;          1
  5     6     5 &lt;dbl [4]&gt;          4
```
]

---
count: false
 

.panel1-example-rotate[

```r
tibble(x = c(1,2,3,4,6),
       y = 1:5,
       z = list(1:2, 4:5, 8, NA, c(1,7,9,0))) %&gt;%
* mutate(the_length = map_chr(z, length))  #scalar character
```
]
 
.panel2-example-rotate[

```
  # A tibble: 5 x 4
        x     y z         the_length
    &lt;dbl&gt; &lt;int&gt; &lt;list&gt;    &lt;chr&gt;     
  1     1     1 &lt;int [2]&gt; 2         
  2     2     2 &lt;int [2]&gt; 2         
  3     3     3 &lt;dbl [1]&gt; 1         
  4     4     4 &lt;lgl [1]&gt; 1         
  5     6     5 &lt;dbl [4]&gt; 4
```
]

&lt;style&gt;
.panel1-example-rotate {
  color: black;
  width: 58.4040404040404%;
  hight: 32%;
  float: left;
  padding-left: 1%;
  font-size: 80%
}
.panel2-example-rotate {
  color: black;
  width: 39.5959595959596%;
  hight: 32%;
  float: left;
  padding-left: 1%;
  font-size: 80%
}
.panel3-example-rotate {
  color: black;
  width: NA%;
  hight: 33%;
  float: left;
  padding-left: 1%;
  font-size: 80%
}
&lt;/style&gt;






---




---
  # From purrr cheatsheet
  
  
  &gt; List column workflow

- Make a list column
- Work with list column
- Simplify the list column



---


count: false
 

.panel1-model-auto[

```r
*library(gapminder)
```
]
 
.panel2-model-auto[

]

---
count: false
 

.panel1-model-auto[

```r
library(gapminder)
# linear modeling function
*mod_fun &lt;- function(df) lm(lifeExp ~ ., data = df)
```
]
 
.panel2-model-auto[

]

---
count: false
 

.panel1-model-auto[

```r
library(gapminder)
# linear modeling function
mod_fun &lt;- function(df) lm(lifeExp ~ ., data = df)
# returns coefficients of the model
*coef_fun &lt;- function(mod) coefficients(mod)[[1]]
```
]
 
.panel2-model-auto[

]

---
count: false
 

.panel1-model-auto[

```r
library(gapminder)
# linear modeling function
mod_fun &lt;- function(df) lm(lifeExp ~ ., data = df)
# returns coefficients of the model
coef_fun &lt;- function(mod) coefficients(mod)[[1]]
*coef2_fun &lt;- function(mod) coefficients(mod)[[2]]
```
]
 
.panel2-model-auto[

]

---
count: false
 

.panel1-model-auto[

```r
library(gapminder)
# linear modeling function
mod_fun &lt;- function(df) lm(lifeExp ~ ., data = df)
# returns coefficients of the model
coef_fun &lt;- function(mod) coefficients(mod)[[1]]
coef2_fun &lt;- function(mod) coefficients(mod)[[2]]
*gapminder
```
]
 
.panel2-model-auto[

```
  # A tibble: 1,704 x 6
     country     continent  year lifeExp      pop gdpPercap
     &lt;fct&gt;       &lt;fct&gt;     &lt;int&gt;   &lt;dbl&gt;    &lt;int&gt;     &lt;dbl&gt;
   1 Afghanistan Asia       1952    28.8  8425333      779.
   2 Afghanistan Asia       1957    30.3  9240934      821.
   3 Afghanistan Asia       1962    32.0 10267083      853.
   4 Afghanistan Asia       1967    34.0 11537966      836.
   5 Afghanistan Asia       1972    36.1 13079460      740.
   6 Afghanistan Asia       1977    38.4 14880372      786.
   7 Afghanistan Asia       1982    39.9 12881816      978.
   8 Afghanistan Asia       1987    40.8 13867957      852.
   9 Afghanistan Asia       1992    41.7 16317921      649.
  10 Afghanistan Asia       1997    41.8 22227415      635.
  # … with 1,694 more rows
```
]

---
count: false
 

.panel1-model-auto[

```r
library(gapminder)
# linear modeling function
mod_fun &lt;- function(df) lm(lifeExp ~ ., data = df)
# returns coefficients of the model
coef_fun &lt;- function(mod) coefficients(mod)[[1]]
coef2_fun &lt;- function(mod) coefficients(mod)[[2]]
gapminder %&gt;%
* filter(year == 2002)
```
]
 
.panel2-model-auto[

```
  # A tibble: 142 x 6
     country     continent  year lifeExp       pop gdpPercap
     &lt;fct&gt;       &lt;fct&gt;     &lt;int&gt;   &lt;dbl&gt;     &lt;int&gt;     &lt;dbl&gt;
   1 Afghanistan Asia       2002    42.1  25268405      727.
   2 Albania     Europe     2002    75.7   3508512     4604.
   3 Algeria     Africa     2002    71.0  31287142     5288.
   4 Angola      Africa     2002    41.0  10866106     2773.
   5 Argentina   Americas   2002    74.3  38331121     8798.
   6 Australia   Oceania    2002    80.4  19546792    30688.
   7 Austria     Europe     2002    79.0   8148312    32418.
   8 Bahrain     Asia       2002    74.8    656397    23404.
   9 Bangladesh  Asia       2002    62.0 135656790     1136.
  10 Belgium     Europe     2002    78.3  10311970    30486.
  # … with 132 more rows
```
]

---
count: false
 

.panel1-model-auto[

```r
library(gapminder)
# linear modeling function
mod_fun &lt;- function(df) lm(lifeExp ~ ., data = df)
# returns coefficients of the model
coef_fun &lt;- function(mod) coefficients(mod)[[1]]
coef2_fun &lt;- function(mod) coefficients(mod)[[2]]
gapminder %&gt;%
  filter(year == 2002) %&gt;%
* group_by(continent)
```
]
 
.panel2-model-auto[

```
  # A tibble: 142 x 6
  # Groups:   continent [5]
     country     continent  year lifeExp       pop gdpPercap
     &lt;fct&gt;       &lt;fct&gt;     &lt;int&gt;   &lt;dbl&gt;     &lt;int&gt;     &lt;dbl&gt;
   1 Afghanistan Asia       2002    42.1  25268405      727.
   2 Albania     Europe     2002    75.7   3508512     4604.
   3 Algeria     Africa     2002    71.0  31287142     5288.
   4 Angola      Africa     2002    41.0  10866106     2773.
   5 Argentina   Americas   2002    74.3  38331121     8798.
   6 Australia   Oceania    2002    80.4  19546792    30688.
   7 Austria     Europe     2002    79.0   8148312    32418.
   8 Bahrain     Asia       2002    74.8    656397    23404.
   9 Bangladesh  Asia       2002    62.0 135656790     1136.
  10 Belgium     Europe     2002    78.3  10311970    30486.
  # … with 132 more rows
```
]

---
count: false
 

.panel1-model-auto[

```r
library(gapminder)
# linear modeling function
mod_fun &lt;- function(df) lm(lifeExp ~ ., data = df)
# returns coefficients of the model
coef_fun &lt;- function(mod) coefficients(mod)[[1]]
coef2_fun &lt;- function(mod) coefficients(mod)[[2]]
gapminder %&gt;%
  filter(year == 2002) %&gt;%
  group_by(continent) %&gt;%
* select(-country, -year)
```
]
 
.panel2-model-auto[

```
  # A tibble: 142 x 4
  # Groups:   continent [5]
     continent lifeExp       pop gdpPercap
     &lt;fct&gt;       &lt;dbl&gt;     &lt;int&gt;     &lt;dbl&gt;
   1 Asia         42.1  25268405      727.
   2 Europe       75.7   3508512     4604.
   3 Africa       71.0  31287142     5288.
   4 Africa       41.0  10866106     2773.
   5 Americas     74.3  38331121     8798.
   6 Oceania      80.4  19546792    30688.
   7 Europe       79.0   8148312    32418.
   8 Asia         74.8    656397    23404.
   9 Asia         62.0 135656790     1136.
  10 Europe       78.3  10311970    30486.
  # … with 132 more rows
```
]

---
count: false
 

.panel1-model-auto[

```r
library(gapminder)
# linear modeling function
mod_fun &lt;- function(df) lm(lifeExp ~ ., data = df)
# returns coefficients of the model
coef_fun &lt;- function(mod) coefficients(mod)[[1]]
coef2_fun &lt;- function(mod) coefficients(mod)[[2]]
gapminder %&gt;%
  filter(year == 2002) %&gt;%
  group_by(continent) %&gt;%
  select(-country, -year) %&gt;%
* nest()   # Make a list column
```
]
 
.panel2-model-auto[

```
  # A tibble: 5 x 2
  # Groups:   continent [5]
    continent data             
    &lt;fct&gt;     &lt;list&gt;           
  1 Asia      &lt;tibble [33 × 3]&gt;
  2 Europe    &lt;tibble [30 × 3]&gt;
  3 Africa    &lt;tibble [52 × 3]&gt;
  4 Americas  &lt;tibble [25 × 3]&gt;
  5 Oceania   &lt;tibble [2 × 3]&gt;
```
]

---
count: false
 

.panel1-model-auto[

```r
library(gapminder)
# linear modeling function
mod_fun &lt;- function(df) lm(lifeExp ~ ., data = df)
# returns coefficients of the model
coef_fun &lt;- function(mod) coefficients(mod)[[1]]
coef2_fun &lt;- function(mod) coefficients(mod)[[2]]
gapminder %&gt;%
  filter(year == 2002) %&gt;%
  group_by(continent) %&gt;%
  select(-country, -year) %&gt;%
  nest() %&gt;%  # Make a list column
* mutate(model = map(data, mod_fun))
```
]
 
.panel2-model-auto[

```
  # A tibble: 5 x 3
  # Groups:   continent [5]
    continent data              model 
    &lt;fct&gt;     &lt;list&gt;            &lt;list&gt;
  1 Asia      &lt;tibble [33 × 3]&gt; &lt;lm&gt;  
  2 Europe    &lt;tibble [30 × 3]&gt; &lt;lm&gt;  
  3 Africa    &lt;tibble [52 × 3]&gt; &lt;lm&gt;  
  4 Americas  &lt;tibble [25 × 3]&gt; &lt;lm&gt;  
  5 Oceania   &lt;tibble [2 × 3]&gt;  &lt;lm&gt;
```
]

---
count: false
 

.panel1-model-auto[

```r
library(gapminder)
# linear modeling function
mod_fun &lt;- function(df) lm(lifeExp ~ ., data = df)
# returns coefficients of the model
coef_fun &lt;- function(mod) coefficients(mod)[[1]]
coef2_fun &lt;- function(mod) coefficients(mod)[[2]]
gapminder %&gt;%
  filter(year == 2002) %&gt;%
  group_by(continent) %&gt;%
  select(-country, -year) %&gt;%
  nest() %&gt;%  # Make a list column
  mutate(model = map(data, mod_fun)) %&gt;%
* mutate(beta_0 = map_dbl(model, coef_fun))
```
]
 
.panel2-model-auto[

```
  # A tibble: 5 x 4
  # Groups:   continent [5]
    continent data              model  beta_0
    &lt;fct&gt;     &lt;list&gt;            &lt;list&gt;  &lt;dbl&gt;
  1 Asia      &lt;tibble [33 × 3]&gt; &lt;lm&gt;     63.3
  2 Europe    &lt;tibble [30 × 3]&gt; &lt;lm&gt;     71.8
  3 Africa    &lt;tibble [52 × 3]&gt; &lt;lm&gt;     49.4
  4 Americas  &lt;tibble [25 × 3]&gt; &lt;lm&gt;     69.4
  5 Oceania   &lt;tibble [2 × 3]&gt;  &lt;lm&gt;     78.8
```
]

---
count: false
 

.panel1-model-auto[

```r
library(gapminder)
# linear modeling function
mod_fun &lt;- function(df) lm(lifeExp ~ ., data = df)
# returns coefficients of the model
coef_fun &lt;- function(mod) coefficients(mod)[[1]]
coef2_fun &lt;- function(mod) coefficients(mod)[[2]]
gapminder %&gt;%
  filter(year == 2002) %&gt;%
  group_by(continent) %&gt;%
  select(-country, -year) %&gt;%
  nest() %&gt;%  # Make a list column
  mutate(model = map(data, mod_fun)) %&gt;%
  mutate(beta_0 = map_dbl(model, coef_fun)) %&gt;%
* mutate(beta_1 = map_dbl(model, coef2_fun))
```
]
 
.panel2-model-auto[

```
  # A tibble: 5 x 5
  # Groups:   continent [5]
    continent data              model  beta_0   beta_1
    &lt;fct&gt;     &lt;list&gt;            &lt;list&gt;  &lt;dbl&gt;    &lt;dbl&gt;
  1 Asia      &lt;tibble [33 × 3]&gt; &lt;lm&gt;     63.3  3.25e-9
  2 Europe    &lt;tibble [30 × 3]&gt; &lt;lm&gt;     71.8  4.23e-9
  3 Africa    &lt;tibble [52 × 3]&gt; &lt;lm&gt;     49.4  1.76e-8
  4 Americas  &lt;tibble [25 × 3]&gt; &lt;lm&gt;     69.4 -1.77e-8
  5 Oceania   &lt;tibble [2 × 3]&gt;  &lt;lm&gt;     78.8  8.06e-8
```
]

---
count: false
 

.panel1-model-auto[

```r
library(gapminder)
# linear modeling function
mod_fun &lt;- function(df) lm(lifeExp ~ ., data = df)
# returns coefficients of the model
coef_fun &lt;- function(mod) coefficients(mod)[[1]]
coef2_fun &lt;- function(mod) coefficients(mod)[[2]]
gapminder %&gt;%
  filter(year == 2002) %&gt;%
  group_by(continent) %&gt;%
  select(-country, -year) %&gt;%
  nest() %&gt;%  # Make a list column
  mutate(model = map(data, mod_fun)) %&gt;%
  mutate(beta_0 = map_dbl(model, coef_fun)) %&gt;%
  mutate(beta_1 = map_dbl(model, coef2_fun)) %&gt;%
* pull(model)
```
]
 
.panel2-model-auto[

```
  [[1]]
  
  Call:
  lm(formula = lifeExp ~ ., data = df)
  
  Coefficients:
  (Intercept)          pop    gdpPercap  
    6.325e+01    3.250e-09    5.533e-04  
  
  
  [[2]]
  
  Call:
  lm(formula = lifeExp ~ ., data = df)
  
  Coefficients:
  (Intercept)          pop    gdpPercap  
    7.179e+01    4.227e-09    2.224e-04  
  
  
  [[3]]
  
  Call:
  lm(formula = lifeExp ~ ., data = df)
  
  Coefficients:
  (Intercept)          pop    gdpPercap  
    4.939e+01    1.765e-08    1.406e-03  
  
  
  [[4]]
  
  Call:
  lm(formula = lifeExp ~ ., data = df)
  
  Coefficients:
  (Intercept)          pop    gdpPercap  
    6.939e+01   -1.771e-08    3.913e-04  
  
  
  [[5]]
  
  Call:
  lm(formula = lifeExp ~ ., data = df)
  
  Coefficients:
  (Intercept)          pop    gdpPercap  
    7.880e+01    8.057e-08           NA
```
]

&lt;style&gt;
.panel1-model-auto {
  color: black;
  width: 58.4040404040404%;
  hight: 32%;
  float: left;
  padding-left: 1%;
  font-size: 80%
}
.panel2-model-auto {
  color: black;
  width: 39.5959595959596%;
  hight: 32%;
  float: left;
  padding-left: 1%;
  font-size: 80%
}
.panel3-model-auto {
  color: black;
  width: NA%;
  hight: 33%;
  float: left;
  padding-left: 1%;
  font-size: 80%
}
&lt;/style&gt;





```
  [[1]]
  
  Call:
  lm(formula = lifeExp ~ ., data = df)
  
  Coefficients:
  (Intercept)          pop    gdpPercap  
    6.325e+01    3.250e-09    5.533e-04  
  
  
  [[2]]
  
  Call:
  lm(formula = lifeExp ~ ., data = df)
  
  Coefficients:
  (Intercept)          pop    gdpPercap  
    7.179e+01    4.227e-09    2.224e-04  
  
  
  [[3]]
  
  Call:
  lm(formula = lifeExp ~ ., data = df)
  
  Coefficients:
  (Intercept)          pop    gdpPercap  
    4.939e+01    1.765e-08    1.406e-03  
  
  
  [[4]]
  
  Call:
  lm(formula = lifeExp ~ ., data = df)
  
  Coefficients:
  (Intercept)          pop    gdpPercap  
    6.939e+01   -1.771e-08    3.913e-04  
  
  
  [[5]]
  
  Call:
  lm(formula = lifeExp ~ ., data = df)
  
  Coefficients:
  (Intercept)          pop    gdpPercap  
    7.880e+01    8.057e-08           NA
```






---
  # Greater detail and examples
  
  &gt; MAKE A LIST COLUMN - You can create list columns with functions in the tibble and dplyr packages, as well as tidyr’s nest()

---
  
  &gt; tibble::tribble(...)
Makes list column when needed



```r
tribble( ~max, ~seq, 
         3, 1:3,
         4, 1:4, 
         5, 1:5)
```

```
  # A tibble: 3 x 2
      max seq      
    &lt;dbl&gt; &lt;list&gt;   
  1     3 &lt;int [3]&gt;
  2     4 &lt;int [4]&gt;
  3     5 &lt;int [5]&gt;
```
---
  
  &gt; tibble::tibble(...)
Saves list input as list columns


```r
tibble(max = c(3, 4, 5), 
       seq = list(1:3, 1:4, 1:5))
```

```
  # A tibble: 3 x 2
      max seq      
    &lt;dbl&gt; &lt;list&gt;   
  1     3 &lt;int [3]&gt;
  2     4 &lt;int [4]&gt;
  3     5 &lt;int [5]&gt;
```

---
  
  &gt; tibble::enframe(x, name="name", value="value") Converts multi-level list to tibble with list cols



```r
enframe(list('3' = 1:3, '4' = 1:4, '5' = 1:5), 
        'max', 'seq')
```

```
  # A tibble: 3 x 2
    max   seq      
    &lt;chr&gt; &lt;list&gt;   
  1 3     &lt;int [3]&gt;
  2 4     &lt;int [4]&gt;
  3 5     &lt;int [5]&gt;
```

---
  
  dplyr::mutate(.data, ...) Also transmute() Returns list col when result returns list.


```r
mtcars %&gt;% 
  mutate(seq = map(cyl, seq))
```

```
      mpg cyl  disp  hp drat    wt  qsec vs am gear carb                    seq
  1  21.0   6 160.0 110 3.90 2.620 16.46  0  1    4    4       1, 2, 3, 4, 5, 6
  2  21.0   6 160.0 110 3.90 2.875 17.02  0  1    4    4       1, 2, 3, 4, 5, 6
  3  22.8   4 108.0  93 3.85 2.320 18.61  1  1    4    1             1, 2, 3, 4
  4  21.4   6 258.0 110 3.08 3.215 19.44  1  0    3    1       1, 2, 3, 4, 5, 6
  5  18.7   8 360.0 175 3.15 3.440 17.02  0  0    3    2 1, 2, 3, 4, 5, 6, 7, 8
  6  18.1   6 225.0 105 2.76 3.460 20.22  1  0    3    1       1, 2, 3, 4, 5, 6
  7  14.3   8 360.0 245 3.21 3.570 15.84  0  0    3    4 1, 2, 3, 4, 5, 6, 7, 8
  8  24.4   4 146.7  62 3.69 3.190 20.00  1  0    4    2             1, 2, 3, 4
  9  22.8   4 140.8  95 3.92 3.150 22.90  1  0    4    2             1, 2, 3, 4
  10 19.2   6 167.6 123 3.92 3.440 18.30  1  0    4    4       1, 2, 3, 4, 5, 6
  11 17.8   6 167.6 123 3.92 3.440 18.90  1  0    4    4       1, 2, 3, 4, 5, 6
  12 16.4   8 275.8 180 3.07 4.070 17.40  0  0    3    3 1, 2, 3, 4, 5, 6, 7, 8
  13 17.3   8 275.8 180 3.07 3.730 17.60  0  0    3    3 1, 2, 3, 4, 5, 6, 7, 8
  14 15.2   8 275.8 180 3.07 3.780 18.00  0  0    3    3 1, 2, 3, 4, 5, 6, 7, 8
  15 10.4   8 472.0 205 2.93 5.250 17.98  0  0    3    4 1, 2, 3, 4, 5, 6, 7, 8
  16 10.4   8 460.0 215 3.00 5.424 17.82  0  0    3    4 1, 2, 3, 4, 5, 6, 7, 8
  17 14.7   8 440.0 230 3.23 5.345 17.42  0  0    3    4 1, 2, 3, 4, 5, 6, 7, 8
  18 32.4   4  78.7  66 4.08 2.200 19.47  1  1    4    1             1, 2, 3, 4
  19 30.4   4  75.7  52 4.93 1.615 18.52  1  1    4    2             1, 2, 3, 4
  20 33.9   4  71.1  65 4.22 1.835 19.90  1  1    4    1             1, 2, 3, 4
  21 21.5   4 120.1  97 3.70 2.465 20.01  1  0    3    1             1, 2, 3, 4
  22 15.5   8 318.0 150 2.76 3.520 16.87  0  0    3    2 1, 2, 3, 4, 5, 6, 7, 8
  23 15.2   8 304.0 150 3.15 3.435 17.30  0  0    3    2 1, 2, 3, 4, 5, 6, 7, 8
  24 13.3   8 350.0 245 3.73 3.840 15.41  0  0    3    4 1, 2, 3, 4, 5, 6, 7, 8
  25 19.2   8 400.0 175 3.08 3.845 17.05  0  0    3    2 1, 2, 3, 4, 5, 6, 7, 8
  26 27.3   4  79.0  66 4.08 1.935 18.90  1  1    4    1             1, 2, 3, 4
  27 26.0   4 120.3  91 4.43 2.140 16.70  0  1    5    2             1, 2, 3, 4
  28 30.4   4  95.1 113 3.77 1.513 16.90  1  1    5    2             1, 2, 3, 4
  29 15.8   8 351.0 264 4.22 3.170 14.50  0  1    5    4 1, 2, 3, 4, 5, 6, 7, 8
  30 19.7   6 145.0 175 3.62 2.770 15.50  0  1    5    6       1, 2, 3, 4, 5, 6
  31 15.0   8 301.0 335 3.54 3.570 14.60  0  1    5    8 1, 2, 3, 4, 5, 6, 7, 8
  32 21.4   4 121.0 109 4.11 2.780 18.60  1  1    4    2             1, 2, 3, 4
```


---
  
  dplyr::summarise(.data, ...)
Returns list col when result is wrapped with list()


```r
mtcars %&gt;% 
  group_by(cyl) %&gt;% 
  summarise(q = list(quantile(mpg)))
```

```
  `summarise()` ungrouping output (override with `.groups` argument)
```

```
  # A tibble: 3 x 2
      cyl q        
    &lt;dbl&gt; &lt;list&gt;   
  1     4 &lt;dbl [5]&gt;
  2     6 &lt;dbl [5]&gt;
  3     8 &lt;dbl [5]&gt;
```


---
  ## 2 WORK WITH LIST COLUMNS - Use the purrr functions map(), map2(), and pmap() to apply a function that returns a result element-wise to the cells of a list column. walk(), walk2(), and pwalk() work the same way, but return a side effect.
  
  ---
  
  # set up

```r
library(gapminder)
mod_fun &lt;- function(df) lm(lifeExp ~ ., data = df)

continents &lt;- gapminder %&gt;% 
  group_by(continent) %&gt;% 
  nest() %&gt;%
  mutate(model = map(data, mod_fun))
```


---
  
  
purrr::map(.x, .f, ...)
Apply .f element-wise to .x as .f(.x)
  
---
  


---

count: false
 

.panel1-wwlc1-auto[

```r
*n_iris
```
]
 
.panel2-wwlc1-auto[

```
  # A tibble: 3 x 2
  # Groups:   Species [3]
    Species    data             
    &lt;fct&gt;      &lt;list&gt;           
  1 setosa     &lt;tibble [50 × 4]&gt;
  2 versicolor &lt;tibble [50 × 4]&gt;
  3 virginica  &lt;tibble [50 × 4]&gt;
```
]

---
count: false
 

.panel1-wwlc1-auto[

```r
n_iris %&gt;%
* mutate(n = map(data, dim))
```
]
 
.panel2-wwlc1-auto[

```
  # A tibble: 3 x 3
  # Groups:   Species [3]
    Species    data              n        
    &lt;fct&gt;      &lt;list&gt;            &lt;list&gt;   
  1 setosa     &lt;tibble [50 × 4]&gt; &lt;int [2]&gt;
  2 versicolor &lt;tibble [50 × 4]&gt; &lt;int [2]&gt;
  3 virginica  &lt;tibble [50 × 4]&gt; &lt;int [2]&gt;
```
]

&lt;style&gt;
.panel1-wwlc1-auto {
  color: black;
  width: 58.4040404040404%;
  hight: 32%;
  float: left;
  padding-left: 1%;
  font-size: 80%
}
.panel2-wwlc1-auto {
  color: black;
  width: 39.5959595959596%;
  hight: 32%;
  float: left;
  padding-left: 1%;
  font-size: 80%
}
.panel3-wwlc1-auto {
  color: black;
  width: NA%;
  hight: 33%;
  float: left;
  padding-left: 1%;
  font-size: 80%
}
&lt;/style&gt;



---
  
  purrr::map2(.x, .y, .f, ...)
  Apply .f element-wise to .x and .y as .f(.x, .y)

---
  


count: false
 

.panel1-wwlc2-auto[

```r
*m_iris
```
]
 
.panel2-wwlc2-auto[

```
  # A tibble: 3 x 3
  # Groups:   Species [3]
    Species    data              model 
    &lt;fct&gt;      &lt;list&gt;            &lt;list&gt;
  1 setosa     &lt;tibble [50 × 4]&gt; &lt;lm&gt;  
  2 versicolor &lt;tibble [50 × 4]&gt; &lt;lm&gt;  
  3 virginica  &lt;tibble [50 × 4]&gt; &lt;lm&gt;
```
]

---
count: false
 

.panel1-wwlc2-auto[

```r
m_iris %&gt;%
* mutate(n = map2(data, model, list))
```
]
 
.panel2-wwlc2-auto[

```
  # A tibble: 3 x 4
  # Groups:   Species [3]
    Species    data              model  n         
    &lt;fct&gt;      &lt;list&gt;            &lt;list&gt; &lt;list&gt;    
  1 setosa     &lt;tibble [50 × 4]&gt; &lt;lm&gt;   &lt;list [2]&gt;
  2 versicolor &lt;tibble [50 × 4]&gt; &lt;lm&gt;   &lt;list [2]&gt;
  3 virginica  &lt;tibble [50 × 4]&gt; &lt;lm&gt;   &lt;list [2]&gt;
```
]

&lt;style&gt;
.panel1-wwlc2-auto {
  color: black;
  width: 58.4040404040404%;
  hight: 32%;
  float: left;
  padding-left: 1%;
  font-size: 80%
}
.panel2-wwlc2-auto {
  color: black;
  width: 39.5959595959596%;
  hight: 32%;
  float: left;
  padding-left: 1%;
  font-size: 80%
}
.panel3-wwlc2-auto {
  color: black;
  width: NA%;
  hight: 33%;
  float: left;
  padding-left: 1%;
  font-size: 80%
}
&lt;/style&gt;




---
  
  
purrr::pmap(.l, .f, ...)
Apply .f element-wise to vectors saved in .l
  
---  
  


count: false
 

.panel1-wwlc3-auto[

```r
*m_iris
```
]
 
.panel2-wwlc3-auto[

```
  # A tibble: 3 x 3
  # Groups:   Species [3]
    Species    data              model 
    &lt;fct&gt;      &lt;list&gt;            &lt;list&gt;
  1 setosa     &lt;tibble [50 × 4]&gt; &lt;lm&gt;  
  2 versicolor &lt;tibble [50 × 4]&gt; &lt;lm&gt;  
  3 virginica  &lt;tibble [50 × 4]&gt; &lt;lm&gt;
```
]

---
count: false
 

.panel1-wwlc3-auto[

```r
m_iris %&gt;%
* mutate(n = pmap(list(data, model, data), list))
```
]
 
.panel2-wwlc3-auto[

```
  # A tibble: 3 x 4
  # Groups:   Species [3]
    Species    data              model  n         
    &lt;fct&gt;      &lt;list&gt;            &lt;list&gt; &lt;list&gt;    
  1 setosa     &lt;tibble [50 × 4]&gt; &lt;lm&gt;   &lt;list [3]&gt;
  2 versicolor &lt;tibble [50 × 4]&gt; &lt;lm&gt;   &lt;list [3]&gt;
  3 virginica  &lt;tibble [50 × 4]&gt; &lt;lm&gt;   &lt;list [3]&gt;
```
]

&lt;style&gt;
.panel1-wwlc3-auto {
  color: black;
  width: 58.4040404040404%;
  hight: 32%;
  float: left;
  padding-left: 1%;
  font-size: 80%
}
.panel2-wwlc3-auto {
  color: black;
  width: 39.5959595959596%;
  hight: 32%;
  float: left;
  padding-left: 1%;
  font-size: 80%
}
.panel3-wwlc3-auto {
  color: black;
  width: NA%;
  hight: 33%;
  float: left;
  padding-left: 1%;
  font-size: 80%
}
&lt;/style&gt;


  
  
---
  
  
3. SIMPLIFY THE LIST COLUMN (into a regular column)

Use the purrr functions map_lgl(), map_int(), map_dbl(), map_chr(), as well as tidyr’s unnest() to reduce a list column into a regular column.

---

purrr::map_lgl(.x, .f, ...)
Apply .f element-wise to .x, return a logical vector
  


count: false
 

.panel1-slc1-rotate[

```r
n_iris %&gt;%
* transmute(n = map_lgl(data, is.matrix))
```
]
 
.panel2-slc1-rotate[

```
  # A tibble: 3 x 2
  # Groups:   Species [3]
    Species    n    
    &lt;fct&gt;      &lt;lgl&gt;
  1 setosa     FALSE
  2 versicolor FALSE
  3 virginica  FALSE
```
]

---
count: false
 

.panel1-slc1-rotate[

```r
n_iris %&gt;%
* transmute(n = map_int(data, nrow))
```
]
 
.panel2-slc1-rotate[

```
  # A tibble: 3 x 2
  # Groups:   Species [3]
    Species        n
    &lt;fct&gt;      &lt;int&gt;
  1 setosa        50
  2 versicolor    50
  3 virginica     50
```
]

---
count: false
 

.panel1-slc1-rotate[

```r
n_iris %&gt;%
* transmute(n = map_dbl(data, nrow))
```
]
 
.panel2-slc1-rotate[

```
  # A tibble: 3 x 2
  # Groups:   Species [3]
    Species        n
    &lt;fct&gt;      &lt;dbl&gt;
  1 setosa        50
  2 versicolor    50
  3 virginica     50
```
]

---
count: false
 

.panel1-slc1-rotate[

```r
n_iris %&gt;%
* transmute(n = map_chr(data, nrow))
```
]
 
.panel2-slc1-rotate[

```
  # A tibble: 3 x 2
  # Groups:   Species [3]
    Species    n    
    &lt;fct&gt;      &lt;chr&gt;
  1 setosa     50   
  2 versicolor 50   
  3 virginica  50
```
]

&lt;style&gt;
.panel1-slc1-rotate {
  color: black;
  width: 38.6060606060606%;
  hight: 32%;
  float: left;
  padding-left: 1%;
  font-size: 80%
}
.panel2-slc1-rotate {
  color: black;
  width: 59.3939393939394%;
  hight: 32%;
  float: left;
  padding-left: 1%;
  font-size: 80%
}
.panel3-slc1-rotate {
  color: black;
  width: NA%;
  hight: 33%;
  float: left;
  padding-left: 1%;
  font-size: 80%
}
&lt;/style&gt;



---
  
count: false
 

.panel1-mt-auto[

```r
*mtcars
```
]
 
.panel2-mt-auto[

```
                       mpg cyl  disp  hp drat    wt  qsec vs am gear carb
  Mazda RX4           21.0   6 160.0 110 3.90 2.620 16.46  0  1    4    4
  Mazda RX4 Wag       21.0   6 160.0 110 3.90 2.875 17.02  0  1    4    4
  Datsun 710          22.8   4 108.0  93 3.85 2.320 18.61  1  1    4    1
  Hornet 4 Drive      21.4   6 258.0 110 3.08 3.215 19.44  1  0    3    1
  Hornet Sportabout   18.7   8 360.0 175 3.15 3.440 17.02  0  0    3    2
  Valiant             18.1   6 225.0 105 2.76 3.460 20.22  1  0    3    1
  Duster 360          14.3   8 360.0 245 3.21 3.570 15.84  0  0    3    4
  Merc 240D           24.4   4 146.7  62 3.69 3.190 20.00  1  0    4    2
  Merc 230            22.8   4 140.8  95 3.92 3.150 22.90  1  0    4    2
  Merc 280            19.2   6 167.6 123 3.92 3.440 18.30  1  0    4    4
  Merc 280C           17.8   6 167.6 123 3.92 3.440 18.90  1  0    4    4
  Merc 450SE          16.4   8 275.8 180 3.07 4.070 17.40  0  0    3    3
  Merc 450SL          17.3   8 275.8 180 3.07 3.730 17.60  0  0    3    3
  Merc 450SLC         15.2   8 275.8 180 3.07 3.780 18.00  0  0    3    3
  Cadillac Fleetwood  10.4   8 472.0 205 2.93 5.250 17.98  0  0    3    4
  Lincoln Continental 10.4   8 460.0 215 3.00 5.424 17.82  0  0    3    4
  Chrysler Imperial   14.7   8 440.0 230 3.23 5.345 17.42  0  0    3    4
  Fiat 128            32.4   4  78.7  66 4.08 2.200 19.47  1  1    4    1
  Honda Civic         30.4   4  75.7  52 4.93 1.615 18.52  1  1    4    2
  Toyota Corolla      33.9   4  71.1  65 4.22 1.835 19.90  1  1    4    1
  Toyota Corona       21.5   4 120.1  97 3.70 2.465 20.01  1  0    3    1
  Dodge Challenger    15.5   8 318.0 150 2.76 3.520 16.87  0  0    3    2
  AMC Javelin         15.2   8 304.0 150 3.15 3.435 17.30  0  0    3    2
  Camaro Z28          13.3   8 350.0 245 3.73 3.840 15.41  0  0    3    4
  Pontiac Firebird    19.2   8 400.0 175 3.08 3.845 17.05  0  0    3    2
  Fiat X1-9           27.3   4  79.0  66 4.08 1.935 18.90  1  1    4    1
  Porsche 914-2       26.0   4 120.3  91 4.43 2.140 16.70  0  1    5    2
  Lotus Europa        30.4   4  95.1 113 3.77 1.513 16.90  1  1    5    2
  Ford Pantera L      15.8   8 351.0 264 4.22 3.170 14.50  0  1    5    4
  Ferrari Dino        19.7   6 145.0 175 3.62 2.770 15.50  0  1    5    6
  Maserati Bora       15.0   8 301.0 335 3.54 3.570 14.60  0  1    5    8
  Volvo 142E          21.4   4 121.0 109 4.11 2.780 18.60  1  1    4    2
```
]

---
count: false
 

.panel1-mt-auto[

```r
mtcars %&gt;%
* select(mpg, cyl)
```
]
 
.panel2-mt-auto[

```
                       mpg cyl
  Mazda RX4           21.0   6
  Mazda RX4 Wag       21.0   6
  Datsun 710          22.8   4
  Hornet 4 Drive      21.4   6
  Hornet Sportabout   18.7   8
  Valiant             18.1   6
  Duster 360          14.3   8
  Merc 240D           24.4   4
  Merc 230            22.8   4
  Merc 280            19.2   6
  Merc 280C           17.8   6
  Merc 450SE          16.4   8
  Merc 450SL          17.3   8
  Merc 450SLC         15.2   8
  Cadillac Fleetwood  10.4   8
  Lincoln Continental 10.4   8
  Chrysler Imperial   14.7   8
  Fiat 128            32.4   4
  Honda Civic         30.4   4
  Toyota Corolla      33.9   4
  Toyota Corona       21.5   4
  Dodge Challenger    15.5   8
  AMC Javelin         15.2   8
  Camaro Z28          13.3   8
  Pontiac Firebird    19.2   8
  Fiat X1-9           27.3   4
  Porsche 914-2       26.0   4
  Lotus Europa        30.4   4
  Ford Pantera L      15.8   8
  Ferrari Dino        19.7   6
  Maserati Bora       15.0   8
  Volvo 142E          21.4   4
```
]

---
count: false
 

.panel1-mt-auto[

```r
mtcars %&gt;%
  select(mpg, cyl) %&gt;%
* distinct()
```
]
 
.panel2-mt-auto[

```
                      mpg cyl
  Mazda RX4          21.0   6
  Datsun 710         22.8   4
  Hornet 4 Drive     21.4   6
  Hornet Sportabout  18.7   8
  Valiant            18.1   6
  Duster 360         14.3   8
  Merc 240D          24.4   4
  Merc 280           19.2   6
  Merc 280C          17.8   6
  Merc 450SE         16.4   8
  Merc 450SL         17.3   8
  Merc 450SLC        15.2   8
  Cadillac Fleetwood 10.4   8
  Chrysler Imperial  14.7   8
  Fiat 128           32.4   4
  Honda Civic        30.4   4
  Toyota Corolla     33.9   4
  Toyota Corona      21.5   4
  Dodge Challenger   15.5   8
  Camaro Z28         13.3   8
  Pontiac Firebird   19.2   8
  Fiat X1-9          27.3   4
  Porsche 914-2      26.0   4
  Ford Pantera L     15.8   8
  Ferrari Dino       19.7   6
  Maserati Bora      15.0   8
  Volvo 142E         21.4   4
```
]

---
count: false
 

.panel1-mt-auto[

```r
mtcars %&gt;%
  select(mpg, cyl) %&gt;%
  distinct() %&gt;%
* mutate(seq = map(cyl, seq))
```
]
 
.panel2-mt-auto[

```
      mpg cyl                    seq
  1  21.0   6       1, 2, 3, 4, 5, 6
  2  22.8   4             1, 2, 3, 4
  3  21.4   6       1, 2, 3, 4, 5, 6
  4  18.7   8 1, 2, 3, 4, 5, 6, 7, 8
  5  18.1   6       1, 2, 3, 4, 5, 6
  6  14.3   8 1, 2, 3, 4, 5, 6, 7, 8
  7  24.4   4             1, 2, 3, 4
  8  19.2   6       1, 2, 3, 4, 5, 6
  9  17.8   6       1, 2, 3, 4, 5, 6
  10 16.4   8 1, 2, 3, 4, 5, 6, 7, 8
  11 17.3   8 1, 2, 3, 4, 5, 6, 7, 8
  12 15.2   8 1, 2, 3, 4, 5, 6, 7, 8
  13 10.4   8 1, 2, 3, 4, 5, 6, 7, 8
  14 14.7   8 1, 2, 3, 4, 5, 6, 7, 8
  15 32.4   4             1, 2, 3, 4
  16 30.4   4             1, 2, 3, 4
  17 33.9   4             1, 2, 3, 4
  18 21.5   4             1, 2, 3, 4
  19 15.5   8 1, 2, 3, 4, 5, 6, 7, 8
  20 13.3   8 1, 2, 3, 4, 5, 6, 7, 8
  21 19.2   8 1, 2, 3, 4, 5, 6, 7, 8
  22 27.3   4             1, 2, 3, 4
  23 26.0   4             1, 2, 3, 4
  24 15.8   8 1, 2, 3, 4, 5, 6, 7, 8
  25 19.7   6       1, 2, 3, 4, 5, 6
  26 15.0   8 1, 2, 3, 4, 5, 6, 7, 8
  27 21.4   4             1, 2, 3, 4
```
]

---
count: false
 

.panel1-mt-auto[

```r
mtcars %&gt;%
  select(mpg, cyl) %&gt;%
  distinct() %&gt;%
  mutate(seq = map(cyl, seq)) %&gt;%
* unnest()
```
]
 
.panel2-mt-auto[

```
  # A tibble: 168 x 3
       mpg   cyl   seq
     &lt;dbl&gt; &lt;dbl&gt; &lt;int&gt;
   1  21       6     1
   2  21       6     2
   3  21       6     3
   4  21       6     4
   5  21       6     5
   6  21       6     6
   7  22.8     4     1
   8  22.8     4     2
   9  22.8     4     3
  10  22.8     4     4
  # … with 158 more rows
```
]

&lt;style&gt;
.panel1-mt-auto {
  color: black;
  width: 38.6060606060606%;
  hight: 32%;
  float: left;
  padding-left: 1%;
  font-size: 80%
}
.panel2-mt-auto {
  color: black;
  width: 59.3939393939394%;
  hight: 32%;
  float: left;
  padding-left: 1%;
  font-size: 80%
}
.panel3-mt-auto {
  color: black;
  width: NA%;
  hight: 33%;
  float: left;
  padding-left: 1%;
  font-size: 80%
}
&lt;/style&gt;


  


---


count: false
 

.panel1-unnest-auto[

```r
*mtcars
```
]
 
.panel2-unnest-auto[

```
                       mpg cyl  disp  hp drat    wt  qsec vs am gear carb
  Mazda RX4           21.0   6 160.0 110 3.90 2.620 16.46  0  1    4    4
  Mazda RX4 Wag       21.0   6 160.0 110 3.90 2.875 17.02  0  1    4    4
  Datsun 710          22.8   4 108.0  93 3.85 2.320 18.61  1  1    4    1
  Hornet 4 Drive      21.4   6 258.0 110 3.08 3.215 19.44  1  0    3    1
  Hornet Sportabout   18.7   8 360.0 175 3.15 3.440 17.02  0  0    3    2
  Valiant             18.1   6 225.0 105 2.76 3.460 20.22  1  0    3    1
  Duster 360          14.3   8 360.0 245 3.21 3.570 15.84  0  0    3    4
  Merc 240D           24.4   4 146.7  62 3.69 3.190 20.00  1  0    4    2
  Merc 230            22.8   4 140.8  95 3.92 3.150 22.90  1  0    4    2
  Merc 280            19.2   6 167.6 123 3.92 3.440 18.30  1  0    4    4
  Merc 280C           17.8   6 167.6 123 3.92 3.440 18.90  1  0    4    4
  Merc 450SE          16.4   8 275.8 180 3.07 4.070 17.40  0  0    3    3
  Merc 450SL          17.3   8 275.8 180 3.07 3.730 17.60  0  0    3    3
  Merc 450SLC         15.2   8 275.8 180 3.07 3.780 18.00  0  0    3    3
  Cadillac Fleetwood  10.4   8 472.0 205 2.93 5.250 17.98  0  0    3    4
  Lincoln Continental 10.4   8 460.0 215 3.00 5.424 17.82  0  0    3    4
  Chrysler Imperial   14.7   8 440.0 230 3.23 5.345 17.42  0  0    3    4
  Fiat 128            32.4   4  78.7  66 4.08 2.200 19.47  1  1    4    1
  Honda Civic         30.4   4  75.7  52 4.93 1.615 18.52  1  1    4    2
  Toyota Corolla      33.9   4  71.1  65 4.22 1.835 19.90  1  1    4    1
  Toyota Corona       21.5   4 120.1  97 3.70 2.465 20.01  1  0    3    1
  Dodge Challenger    15.5   8 318.0 150 2.76 3.520 16.87  0  0    3    2
  AMC Javelin         15.2   8 304.0 150 3.15 3.435 17.30  0  0    3    2
  Camaro Z28          13.3   8 350.0 245 3.73 3.840 15.41  0  0    3    4
  Pontiac Firebird    19.2   8 400.0 175 3.08 3.845 17.05  0  0    3    2
  Fiat X1-9           27.3   4  79.0  66 4.08 1.935 18.90  1  1    4    1
  Porsche 914-2       26.0   4 120.3  91 4.43 2.140 16.70  0  1    5    2
  Lotus Europa        30.4   4  95.1 113 3.77 1.513 16.90  1  1    5    2
  Ford Pantera L      15.8   8 351.0 264 4.22 3.170 14.50  0  1    5    4
  Ferrari Dino        19.7   6 145.0 175 3.62 2.770 15.50  0  1    5    6
  Maserati Bora       15.0   8 301.0 335 3.54 3.570 14.60  0  1    5    8
  Volvo 142E          21.4   4 121.0 109 4.11 2.780 18.60  1  1    4    2
```
]

---
count: false
 

.panel1-unnest-auto[

```r
mtcars %&gt;%
* group_by(cyl)
```
]
 
.panel2-unnest-auto[

```
  # A tibble: 32 x 11
  # Groups:   cyl [3]
       mpg   cyl  disp    hp  drat    wt  qsec    vs    am  gear  carb
     &lt;dbl&gt; &lt;dbl&gt; &lt;dbl&gt; &lt;dbl&gt; &lt;dbl&gt; &lt;dbl&gt; &lt;dbl&gt; &lt;dbl&gt; &lt;dbl&gt; &lt;dbl&gt; &lt;dbl&gt;
   1  21       6  160    110  3.9   2.62  16.5     0     1     4     4
   2  21       6  160    110  3.9   2.88  17.0     0     1     4     4
   3  22.8     4  108     93  3.85  2.32  18.6     1     1     4     1
   4  21.4     6  258    110  3.08  3.22  19.4     1     0     3     1
   5  18.7     8  360    175  3.15  3.44  17.0     0     0     3     2
   6  18.1     6  225    105  2.76  3.46  20.2     1     0     3     1
   7  14.3     8  360    245  3.21  3.57  15.8     0     0     3     4
   8  24.4     4  147.    62  3.69  3.19  20       1     0     4     2
   9  22.8     4  141.    95  3.92  3.15  22.9     1     0     4     2
  10  19.2     6  168.   123  3.92  3.44  18.3     1     0     4     4
  # … with 22 more rows
```
]

---
count: false
 

.panel1-unnest-auto[

```r
mtcars %&gt;%
  group_by(cyl) %&gt;%
* summarise(quantiles = list(quantile(mpg)))
```
]
 
.panel2-unnest-auto[

```
  # A tibble: 3 x 2
      cyl quantiles
    &lt;dbl&gt; &lt;list&gt;   
  1     4 &lt;dbl [5]&gt;
  2     6 &lt;dbl [5]&gt;
  3     8 &lt;dbl [5]&gt;
```
]

---
count: false
 

.panel1-unnest-auto[

```r
mtcars %&gt;%
  group_by(cyl) %&gt;%
  summarise(quantiles = list(quantile(mpg))) %&gt;%
* unnest()
```
]
 
.panel2-unnest-auto[

```
  # A tibble: 15 x 2
       cyl quantiles
     &lt;dbl&gt;     &lt;dbl&gt;
   1     4      21.4
   2     4      22.8
   3     4      26  
   4     4      30.4
   5     4      33.9
   6     6      17.8
   7     6      18.6
   8     6      19.7
   9     6      21  
  10     6      21.4
  11     8      10.4
  12     8      14.4
  13     8      15.2
  14     8      16.2
  15     8      19.2
```
]

&lt;style&gt;
.panel1-unnest-auto {
  color: black;
  width: 38.6060606060606%;
  hight: 32%;
  float: left;
  padding-left: 1%;
  font-size: 80%
}
.panel2-unnest-auto {
  color: black;
  width: 59.3939393939394%;
  hight: 32%;
  float: left;
  padding-left: 1%;
  font-size: 80%
}
.panel3-unnest-auto {
  color: black;
  width: NA%;
  hight: 33%;
  float: left;
  padding-left: 1%;
  font-size: 80%
}
&lt;/style&gt;






---

count: false
 

.panel1-idontknow-auto[

```r
*iris
```
]
 
.panel2-idontknow-auto[

```
      Sepal.Length Sepal.Width Petal.Length Petal.Width    Species
  1            5.1         3.5          1.4         0.2     setosa
  2            4.9         3.0          1.4         0.2     setosa
  3            4.7         3.2          1.3         0.2     setosa
  4            4.6         3.1          1.5         0.2     setosa
  5            5.0         3.6          1.4         0.2     setosa
  6            5.4         3.9          1.7         0.4     setosa
  7            4.6         3.4          1.4         0.3     setosa
  8            5.0         3.4          1.5         0.2     setosa
  9            4.4         2.9          1.4         0.2     setosa
  10           4.9         3.1          1.5         0.1     setosa
  11           5.4         3.7          1.5         0.2     setosa
  12           4.8         3.4          1.6         0.2     setosa
  13           4.8         3.0          1.4         0.1     setosa
  14           4.3         3.0          1.1         0.1     setosa
  15           5.8         4.0          1.2         0.2     setosa
  16           5.7         4.4          1.5         0.4     setosa
  17           5.4         3.9          1.3         0.4     setosa
  18           5.1         3.5          1.4         0.3     setosa
  19           5.7         3.8          1.7         0.3     setosa
  20           5.1         3.8          1.5         0.3     setosa
  21           5.4         3.4          1.7         0.2     setosa
  22           5.1         3.7          1.5         0.4     setosa
  23           4.6         3.6          1.0         0.2     setosa
  24           5.1         3.3          1.7         0.5     setosa
  25           4.8         3.4          1.9         0.2     setosa
  26           5.0         3.0          1.6         0.2     setosa
  27           5.0         3.4          1.6         0.4     setosa
  28           5.2         3.5          1.5         0.2     setosa
  29           5.2         3.4          1.4         0.2     setosa
  30           4.7         3.2          1.6         0.2     setosa
  31           4.8         3.1          1.6         0.2     setosa
  32           5.4         3.4          1.5         0.4     setosa
  33           5.2         4.1          1.5         0.1     setosa
  34           5.5         4.2          1.4         0.2     setosa
  35           4.9         3.1          1.5         0.2     setosa
  36           5.0         3.2          1.2         0.2     setosa
  37           5.5         3.5          1.3         0.2     setosa
  38           4.9         3.6          1.4         0.1     setosa
  39           4.4         3.0          1.3         0.2     setosa
  40           5.1         3.4          1.5         0.2     setosa
  41           5.0         3.5          1.3         0.3     setosa
  42           4.5         2.3          1.3         0.3     setosa
  43           4.4         3.2          1.3         0.2     setosa
  44           5.0         3.5          1.6         0.6     setosa
  45           5.1         3.8          1.9         0.4     setosa
  46           4.8         3.0          1.4         0.3     setosa
  47           5.1         3.8          1.6         0.2     setosa
  48           4.6         3.2          1.4         0.2     setosa
  49           5.3         3.7          1.5         0.2     setosa
  50           5.0         3.3          1.4         0.2     setosa
  51           7.0         3.2          4.7         1.4 versicolor
  52           6.4         3.2          4.5         1.5 versicolor
  53           6.9         3.1          4.9         1.5 versicolor
  54           5.5         2.3          4.0         1.3 versicolor
  55           6.5         2.8          4.6         1.5 versicolor
  56           5.7         2.8          4.5         1.3 versicolor
  57           6.3         3.3          4.7         1.6 versicolor
  58           4.9         2.4          3.3         1.0 versicolor
  59           6.6         2.9          4.6         1.3 versicolor
  60           5.2         2.7          3.9         1.4 versicolor
  61           5.0         2.0          3.5         1.0 versicolor
  62           5.9         3.0          4.2         1.5 versicolor
  63           6.0         2.2          4.0         1.0 versicolor
  64           6.1         2.9          4.7         1.4 versicolor
  65           5.6         2.9          3.6         1.3 versicolor
  66           6.7         3.1          4.4         1.4 versicolor
  67           5.6         3.0          4.5         1.5 versicolor
  68           5.8         2.7          4.1         1.0 versicolor
  69           6.2         2.2          4.5         1.5 versicolor
  70           5.6         2.5          3.9         1.1 versicolor
  71           5.9         3.2          4.8         1.8 versicolor
  72           6.1         2.8          4.0         1.3 versicolor
  73           6.3         2.5          4.9         1.5 versicolor
  74           6.1         2.8          4.7         1.2 versicolor
  75           6.4         2.9          4.3         1.3 versicolor
  76           6.6         3.0          4.4         1.4 versicolor
  77           6.8         2.8          4.8         1.4 versicolor
  78           6.7         3.0          5.0         1.7 versicolor
  79           6.0         2.9          4.5         1.5 versicolor
  80           5.7         2.6          3.5         1.0 versicolor
  81           5.5         2.4          3.8         1.1 versicolor
  82           5.5         2.4          3.7         1.0 versicolor
  83           5.8         2.7          3.9         1.2 versicolor
  84           6.0         2.7          5.1         1.6 versicolor
  85           5.4         3.0          4.5         1.5 versicolor
  86           6.0         3.4          4.5         1.6 versicolor
  87           6.7         3.1          4.7         1.5 versicolor
  88           6.3         2.3          4.4         1.3 versicolor
  89           5.6         3.0          4.1         1.3 versicolor
  90           5.5         2.5          4.0         1.3 versicolor
  91           5.5         2.6          4.4         1.2 versicolor
  92           6.1         3.0          4.6         1.4 versicolor
  93           5.8         2.6          4.0         1.2 versicolor
  94           5.0         2.3          3.3         1.0 versicolor
  95           5.6         2.7          4.2         1.3 versicolor
  96           5.7         3.0          4.2         1.2 versicolor
  97           5.7         2.9          4.2         1.3 versicolor
  98           6.2         2.9          4.3         1.3 versicolor
  99           5.1         2.5          3.0         1.1 versicolor
  100          5.7         2.8          4.1         1.3 versicolor
  101          6.3         3.3          6.0         2.5  virginica
  102          5.8         2.7          5.1         1.9  virginica
  103          7.1         3.0          5.9         2.1  virginica
  104          6.3         2.9          5.6         1.8  virginica
  105          6.5         3.0          5.8         2.2  virginica
  106          7.6         3.0          6.6         2.1  virginica
  107          4.9         2.5          4.5         1.7  virginica
  108          7.3         2.9          6.3         1.8  virginica
  109          6.7         2.5          5.8         1.8  virginica
  110          7.2         3.6          6.1         2.5  virginica
  111          6.5         3.2          5.1         2.0  virginica
  112          6.4         2.7          5.3         1.9  virginica
  113          6.8         3.0          5.5         2.1  virginica
  114          5.7         2.5          5.0         2.0  virginica
  115          5.8         2.8          5.1         2.4  virginica
  116          6.4         3.2          5.3         2.3  virginica
  117          6.5         3.0          5.5         1.8  virginica
  118          7.7         3.8          6.7         2.2  virginica
  119          7.7         2.6          6.9         2.3  virginica
  120          6.0         2.2          5.0         1.5  virginica
  121          6.9         3.2          5.7         2.3  virginica
  122          5.6         2.8          4.9         2.0  virginica
  123          7.7         2.8          6.7         2.0  virginica
  124          6.3         2.7          4.9         1.8  virginica
  125          6.7         3.3          5.7         2.1  virginica
  126          7.2         3.2          6.0         1.8  virginica
  127          6.2         2.8          4.8         1.8  virginica
  128          6.1         3.0          4.9         1.8  virginica
  129          6.4         2.8          5.6         2.1  virginica
  130          7.2         3.0          5.8         1.6  virginica
  131          7.4         2.8          6.1         1.9  virginica
  132          7.9         3.8          6.4         2.0  virginica
  133          6.4         2.8          5.6         2.2  virginica
  134          6.3         2.8          5.1         1.5  virginica
  135          6.1         2.6          5.6         1.4  virginica
  136          7.7         3.0          6.1         2.3  virginica
  137          6.3         3.4          5.6         2.4  virginica
  138          6.4         3.1          5.5         1.8  virginica
  139          6.0         3.0          4.8         1.8  virginica
  140          6.9         3.1          5.4         2.1  virginica
  141          6.7         3.1          5.6         2.4  virginica
  142          6.9         3.1          5.1         2.3  virginica
  143          5.8         2.7          5.1         1.9  virginica
  144          6.8         3.2          5.9         2.3  virginica
  145          6.7         3.3          5.7         2.5  virginica
  146          6.7         3.0          5.2         2.3  virginica
  147          6.3         2.5          5.0         1.9  virginica
  148          6.5         3.0          5.2         2.0  virginica
  149          6.2         3.4          5.4         2.3  virginica
  150          5.9         3.0          5.1         1.8  virginica
```
]

---
count: false
 

.panel1-idontknow-auto[

```r
iris %&gt;%
* group_by(Species)
```
]
 
.panel2-idontknow-auto[

```
  # A tibble: 150 x 5
  # Groups:   Species [3]
     Sepal.Length Sepal.Width Petal.Length Petal.Width Species
            &lt;dbl&gt;       &lt;dbl&gt;        &lt;dbl&gt;       &lt;dbl&gt; &lt;fct&gt;  
   1          5.1         3.5          1.4         0.2 setosa 
   2          4.9         3            1.4         0.2 setosa 
   3          4.7         3.2          1.3         0.2 setosa 
   4          4.6         3.1          1.5         0.2 setosa 
   5          5           3.6          1.4         0.2 setosa 
   6          5.4         3.9          1.7         0.4 setosa 
   7          4.6         3.4          1.4         0.3 setosa 
   8          5           3.4          1.5         0.2 setosa 
   9          4.4         2.9          1.4         0.2 setosa 
  10          4.9         3.1          1.5         0.1 setosa 
  # … with 140 more rows
```
]

---
count: false
 

.panel1-idontknow-auto[

```r
iris %&gt;%
  group_by(Species) %&gt;%
* nest()
```
]
 
.panel2-idontknow-auto[

```
  # A tibble: 3 x 2
  # Groups:   Species [3]
    Species    data             
    &lt;fct&gt;      &lt;list&gt;           
  1 setosa     &lt;tibble [50 × 4]&gt;
  2 versicolor &lt;tibble [50 × 4]&gt;
  3 virginica  &lt;tibble [50 × 4]&gt;
```
]

---
count: false
 

.panel1-idontknow-auto[

```r
iris %&gt;%
  group_by(Species) %&gt;%
  nest() %&gt;%
* mutate(dimensions = map(data, dim))
```
]
 
.panel2-idontknow-auto[

```
  # A tibble: 3 x 3
  # Groups:   Species [3]
    Species    data              dimensions
    &lt;fct&gt;      &lt;list&gt;            &lt;list&gt;    
  1 setosa     &lt;tibble [50 × 4]&gt; &lt;int [2]&gt; 
  2 versicolor &lt;tibble [50 × 4]&gt; &lt;int [2]&gt; 
  3 virginica  &lt;tibble [50 × 4]&gt; &lt;int [2]&gt;
```
]

---
count: false
 

.panel1-idontknow-auto[

```r
iris %&gt;%
  group_by(Species) %&gt;%
  nest() %&gt;%
  mutate(dimensions = map(data, dim)) %&gt;%
* mutate(rows = dimensions[[1]][1])
```
]
 
.panel2-idontknow-auto[

```
  # A tibble: 3 x 4
  # Groups:   Species [3]
    Species    data              dimensions  rows
    &lt;fct&gt;      &lt;list&gt;            &lt;list&gt;     &lt;int&gt;
  1 setosa     &lt;tibble [50 × 4]&gt; &lt;int [2]&gt;     50
  2 versicolor &lt;tibble [50 × 4]&gt; &lt;int [2]&gt;     50
  3 virginica  &lt;tibble [50 × 4]&gt; &lt;int [2]&gt;     50
```
]

---
count: false
 

.panel1-idontknow-auto[

```r
iris %&gt;%
  group_by(Species) %&gt;%
  nest() %&gt;%
  mutate(dimensions = map(data, dim)) %&gt;%
  mutate(rows = dimensions[[1]][1]) %&gt;%
* mutate(columns = dimensions[[1]][2])
```
]
 
.panel2-idontknow-auto[

```
  # A tibble: 3 x 5
  # Groups:   Species [3]
    Species    data              dimensions  rows columns
    &lt;fct&gt;      &lt;list&gt;            &lt;list&gt;     &lt;int&gt;   &lt;int&gt;
  1 setosa     &lt;tibble [50 × 4]&gt; &lt;int [2]&gt;     50       4
  2 versicolor &lt;tibble [50 × 4]&gt; &lt;int [2]&gt;     50       4
  3 virginica  &lt;tibble [50 × 4]&gt; &lt;int [2]&gt;     50       4
```
]

---
count: false
 

.panel1-idontknow-auto[

```r
iris %&gt;%
  group_by(Species) %&gt;%
  nest() %&gt;%
  mutate(dimensions = map(data, dim)) %&gt;%
  mutate(rows = dimensions[[1]][1]) %&gt;%
  mutate(columns = dimensions[[1]][2]) %&gt;%
* select(-data)
```
]
 
.panel2-idontknow-auto[

```
  # A tibble: 3 x 4
  # Groups:   Species [3]
    Species    dimensions  rows columns
    &lt;fct&gt;      &lt;list&gt;     &lt;int&gt;   &lt;int&gt;
  1 setosa     &lt;int [2]&gt;     50       4
  2 versicolor &lt;int [2]&gt;     50       4
  3 virginica  &lt;int [2]&gt;     50       4
```
]

---
count: false
 

.panel1-idontknow-auto[

```r
iris %&gt;%
  group_by(Species) %&gt;%
  nest() %&gt;%
  mutate(dimensions = map(data, dim)) %&gt;%
  mutate(rows = dimensions[[1]][1]) %&gt;%
  mutate(columns = dimensions[[1]][2]) %&gt;%
  select(-data) %&gt;%
* unnest()
```
]
 
.panel2-idontknow-auto[

```
  # A tibble: 6 x 4
  # Groups:   Species [3]
    Species    dimensions  rows columns
    &lt;fct&gt;           &lt;int&gt; &lt;int&gt;   &lt;int&gt;
  1 setosa             50    50       4
  2 setosa              4    50       4
  3 versicolor         50    50       4
  4 versicolor          4    50       4
  5 virginica          50    50       4
  6 virginica           4    50       4
```
]

&lt;style&gt;
.panel1-idontknow-auto {
  color: black;
  width: 38.6060606060606%;
  hight: 32%;
  float: left;
  padding-left: 1%;
  font-size: 80%
}
.panel2-idontknow-auto {
  color: black;
  width: 59.3939393939394%;
  hight: 32%;
  float: left;
  padding-left: 1%;
  font-size: 80%
}
.panel3-idontknow-auto {
  color: black;
  width: NA%;
  hight: 33%;
  float: left;
  padding-left: 1%;
  font-size: 80%
}
&lt;/style&gt;





---

# List Column

---


count: false
 

.panel1-list_column-auto[

```r
*iris
```
]
 
.panel2-list_column-auto[

```
      Sepal.Length Sepal.Width Petal.Length Petal.Width    Species
  1            5.1         3.5          1.4         0.2     setosa
  2            4.9         3.0          1.4         0.2     setosa
  3            4.7         3.2          1.3         0.2     setosa
  4            4.6         3.1          1.5         0.2     setosa
  5            5.0         3.6          1.4         0.2     setosa
  6            5.4         3.9          1.7         0.4     setosa
  7            4.6         3.4          1.4         0.3     setosa
  8            5.0         3.4          1.5         0.2     setosa
  9            4.4         2.9          1.4         0.2     setosa
  10           4.9         3.1          1.5         0.1     setosa
  11           5.4         3.7          1.5         0.2     setosa
  12           4.8         3.4          1.6         0.2     setosa
  13           4.8         3.0          1.4         0.1     setosa
  14           4.3         3.0          1.1         0.1     setosa
  15           5.8         4.0          1.2         0.2     setosa
  16           5.7         4.4          1.5         0.4     setosa
  17           5.4         3.9          1.3         0.4     setosa
  18           5.1         3.5          1.4         0.3     setosa
  19           5.7         3.8          1.7         0.3     setosa
  20           5.1         3.8          1.5         0.3     setosa
  21           5.4         3.4          1.7         0.2     setosa
  22           5.1         3.7          1.5         0.4     setosa
  23           4.6         3.6          1.0         0.2     setosa
  24           5.1         3.3          1.7         0.5     setosa
  25           4.8         3.4          1.9         0.2     setosa
  26           5.0         3.0          1.6         0.2     setosa
  27           5.0         3.4          1.6         0.4     setosa
  28           5.2         3.5          1.5         0.2     setosa
  29           5.2         3.4          1.4         0.2     setosa
  30           4.7         3.2          1.6         0.2     setosa
  31           4.8         3.1          1.6         0.2     setosa
  32           5.4         3.4          1.5         0.4     setosa
  33           5.2         4.1          1.5         0.1     setosa
  34           5.5         4.2          1.4         0.2     setosa
  35           4.9         3.1          1.5         0.2     setosa
  36           5.0         3.2          1.2         0.2     setosa
  37           5.5         3.5          1.3         0.2     setosa
  38           4.9         3.6          1.4         0.1     setosa
  39           4.4         3.0          1.3         0.2     setosa
  40           5.1         3.4          1.5         0.2     setosa
  41           5.0         3.5          1.3         0.3     setosa
  42           4.5         2.3          1.3         0.3     setosa
  43           4.4         3.2          1.3         0.2     setosa
  44           5.0         3.5          1.6         0.6     setosa
  45           5.1         3.8          1.9         0.4     setosa
  46           4.8         3.0          1.4         0.3     setosa
  47           5.1         3.8          1.6         0.2     setosa
  48           4.6         3.2          1.4         0.2     setosa
  49           5.3         3.7          1.5         0.2     setosa
  50           5.0         3.3          1.4         0.2     setosa
  51           7.0         3.2          4.7         1.4 versicolor
  52           6.4         3.2          4.5         1.5 versicolor
  53           6.9         3.1          4.9         1.5 versicolor
  54           5.5         2.3          4.0         1.3 versicolor
  55           6.5         2.8          4.6         1.5 versicolor
  56           5.7         2.8          4.5         1.3 versicolor
  57           6.3         3.3          4.7         1.6 versicolor
  58           4.9         2.4          3.3         1.0 versicolor
  59           6.6         2.9          4.6         1.3 versicolor
  60           5.2         2.7          3.9         1.4 versicolor
  61           5.0         2.0          3.5         1.0 versicolor
  62           5.9         3.0          4.2         1.5 versicolor
  63           6.0         2.2          4.0         1.0 versicolor
  64           6.1         2.9          4.7         1.4 versicolor
  65           5.6         2.9          3.6         1.3 versicolor
  66           6.7         3.1          4.4         1.4 versicolor
  67           5.6         3.0          4.5         1.5 versicolor
  68           5.8         2.7          4.1         1.0 versicolor
  69           6.2         2.2          4.5         1.5 versicolor
  70           5.6         2.5          3.9         1.1 versicolor
  71           5.9         3.2          4.8         1.8 versicolor
  72           6.1         2.8          4.0         1.3 versicolor
  73           6.3         2.5          4.9         1.5 versicolor
  74           6.1         2.8          4.7         1.2 versicolor
  75           6.4         2.9          4.3         1.3 versicolor
  76           6.6         3.0          4.4         1.4 versicolor
  77           6.8         2.8          4.8         1.4 versicolor
  78           6.7         3.0          5.0         1.7 versicolor
  79           6.0         2.9          4.5         1.5 versicolor
  80           5.7         2.6          3.5         1.0 versicolor
  81           5.5         2.4          3.8         1.1 versicolor
  82           5.5         2.4          3.7         1.0 versicolor
  83           5.8         2.7          3.9         1.2 versicolor
  84           6.0         2.7          5.1         1.6 versicolor
  85           5.4         3.0          4.5         1.5 versicolor
  86           6.0         3.4          4.5         1.6 versicolor
  87           6.7         3.1          4.7         1.5 versicolor
  88           6.3         2.3          4.4         1.3 versicolor
  89           5.6         3.0          4.1         1.3 versicolor
  90           5.5         2.5          4.0         1.3 versicolor
  91           5.5         2.6          4.4         1.2 versicolor
  92           6.1         3.0          4.6         1.4 versicolor
  93           5.8         2.6          4.0         1.2 versicolor
  94           5.0         2.3          3.3         1.0 versicolor
  95           5.6         2.7          4.2         1.3 versicolor
  96           5.7         3.0          4.2         1.2 versicolor
  97           5.7         2.9          4.2         1.3 versicolor
  98           6.2         2.9          4.3         1.3 versicolor
  99           5.1         2.5          3.0         1.1 versicolor
  100          5.7         2.8          4.1         1.3 versicolor
  101          6.3         3.3          6.0         2.5  virginica
  102          5.8         2.7          5.1         1.9  virginica
  103          7.1         3.0          5.9         2.1  virginica
  104          6.3         2.9          5.6         1.8  virginica
  105          6.5         3.0          5.8         2.2  virginica
  106          7.6         3.0          6.6         2.1  virginica
  107          4.9         2.5          4.5         1.7  virginica
  108          7.3         2.9          6.3         1.8  virginica
  109          6.7         2.5          5.8         1.8  virginica
  110          7.2         3.6          6.1         2.5  virginica
  111          6.5         3.2          5.1         2.0  virginica
  112          6.4         2.7          5.3         1.9  virginica
  113          6.8         3.0          5.5         2.1  virginica
  114          5.7         2.5          5.0         2.0  virginica
  115          5.8         2.8          5.1         2.4  virginica
  116          6.4         3.2          5.3         2.3  virginica
  117          6.5         3.0          5.5         1.8  virginica
  118          7.7         3.8          6.7         2.2  virginica
  119          7.7         2.6          6.9         2.3  virginica
  120          6.0         2.2          5.0         1.5  virginica
  121          6.9         3.2          5.7         2.3  virginica
  122          5.6         2.8          4.9         2.0  virginica
  123          7.7         2.8          6.7         2.0  virginica
  124          6.3         2.7          4.9         1.8  virginica
  125          6.7         3.3          5.7         2.1  virginica
  126          7.2         3.2          6.0         1.8  virginica
  127          6.2         2.8          4.8         1.8  virginica
  128          6.1         3.0          4.9         1.8  virginica
  129          6.4         2.8          5.6         2.1  virginica
  130          7.2         3.0          5.8         1.6  virginica
  131          7.4         2.8          6.1         1.9  virginica
  132          7.9         3.8          6.4         2.0  virginica
  133          6.4         2.8          5.6         2.2  virginica
  134          6.3         2.8          5.1         1.5  virginica
  135          6.1         2.6          5.6         1.4  virginica
  136          7.7         3.0          6.1         2.3  virginica
  137          6.3         3.4          5.6         2.4  virginica
  138          6.4         3.1          5.5         1.8  virginica
  139          6.0         3.0          4.8         1.8  virginica
  140          6.9         3.1          5.4         2.1  virginica
  141          6.7         3.1          5.6         2.4  virginica
  142          6.9         3.1          5.1         2.3  virginica
  143          5.8         2.7          5.1         1.9  virginica
  144          6.8         3.2          5.9         2.3  virginica
  145          6.7         3.3          5.7         2.5  virginica
  146          6.7         3.0          5.2         2.3  virginica
  147          6.3         2.5          5.0         1.9  virginica
  148          6.5         3.0          5.2         2.0  virginica
  149          6.2         3.4          5.4         2.3  virginica
  150          5.9         3.0          5.1         1.8  virginica
```
]

---
count: false
 

.panel1-list_column-auto[

```r
iris %&gt;%
* group_by(Species)
```
]
 
.panel2-list_column-auto[

```
  # A tibble: 150 x 5
  # Groups:   Species [3]
     Sepal.Length Sepal.Width Petal.Length Petal.Width Species
            &lt;dbl&gt;       &lt;dbl&gt;        &lt;dbl&gt;       &lt;dbl&gt; &lt;fct&gt;  
   1          5.1         3.5          1.4         0.2 setosa 
   2          4.9         3            1.4         0.2 setosa 
   3          4.7         3.2          1.3         0.2 setosa 
   4          4.6         3.1          1.5         0.2 setosa 
   5          5           3.6          1.4         0.2 setosa 
   6          5.4         3.9          1.7         0.4 setosa 
   7          4.6         3.4          1.4         0.3 setosa 
   8          5           3.4          1.5         0.2 setosa 
   9          4.4         2.9          1.4         0.2 setosa 
  10          4.9         3.1          1.5         0.1 setosa 
  # … with 140 more rows
```
]

---
count: false
 

.panel1-list_column-auto[

```r
iris %&gt;%
  group_by(Species) %&gt;%
* nest()
```
]
 
.panel2-list_column-auto[

```
  # A tibble: 3 x 2
  # Groups:   Species [3]
    Species    data             
    &lt;fct&gt;      &lt;list&gt;           
  1 setosa     &lt;tibble [50 × 4]&gt;
  2 versicolor &lt;tibble [50 × 4]&gt;
  3 virginica  &lt;tibble [50 × 4]&gt;
```
]

---
count: false
 

.panel1-list_column-auto[

```r
iris %&gt;%
  group_by(Species) %&gt;%
  nest() %&gt;%
* mutate(model = map(data, mod_fun))
```
]
 
.panel2-list_column-auto[

```
  # A tibble: 3 x 3
  # Groups:   Species [3]
    Species    data              model 
    &lt;fct&gt;      &lt;list&gt;            &lt;list&gt;
  1 setosa     &lt;tibble [50 × 4]&gt; &lt;lm&gt;  
  2 versicolor &lt;tibble [50 × 4]&gt; &lt;lm&gt;  
  3 virginica  &lt;tibble [50 × 4]&gt; &lt;lm&gt;
```
]

---
count: false
 

.panel1-list_column-auto[

```r
iris %&gt;%
  group_by(Species) %&gt;%
  nest() %&gt;%
  mutate(model = map(data, mod_fun))  %&gt;%
* mutate(n = map2(data, model, list))
```
]
 
.panel2-list_column-auto[

```
  # A tibble: 3 x 4
  # Groups:   Species [3]
    Species    data              model  n         
    &lt;fct&gt;      &lt;list&gt;            &lt;list&gt; &lt;list&gt;    
  1 setosa     &lt;tibble [50 × 4]&gt; &lt;lm&gt;   &lt;list [2]&gt;
  2 versicolor &lt;tibble [50 × 4]&gt; &lt;lm&gt;   &lt;list [2]&gt;
  3 virginica  &lt;tibble [50 × 4]&gt; &lt;lm&gt;   &lt;list [2]&gt;
```
]

---
count: false
 

.panel1-list_column-auto[

```r
iris %&gt;%
  group_by(Species) %&gt;%
  nest() %&gt;%
  mutate(model = map(data, mod_fun))  %&gt;%
  mutate(n = map2(data, model, list)) -&gt;
* iris_more_mod
```
]
 
.panel2-list_column-auto[

]

---
count: false
 

.panel1-list_column-auto[

```r
iris %&gt;%
  group_by(Species) %&gt;%
  nest() %&gt;%
  mutate(model = map(data, mod_fun))  %&gt;%
  mutate(n = map2(data, model, list)) -&gt;
  iris_more_mod

*iris_more_mod$n
```
]
 
.panel2-list_column-auto[

```
  [[1]]
  [[1]][[1]]
  # A tibble: 50 x 4
     Sepal.Length Sepal.Width Petal.Length Petal.Width
            &lt;dbl&gt;       &lt;dbl&gt;        &lt;dbl&gt;       &lt;dbl&gt;
   1          5.1         3.5          1.4         0.2
   2          4.9         3            1.4         0.2
   3          4.7         3.2          1.3         0.2
   4          4.6         3.1          1.5         0.2
   5          5           3.6          1.4         0.2
   6          5.4         3.9          1.7         0.4
   7          4.6         3.4          1.4         0.3
   8          5           3.4          1.5         0.2
   9          4.4         2.9          1.4         0.2
  10          4.9         3.1          1.5         0.1
  # … with 40 more rows
  
  [[1]][[2]]
  
  Call:
  lm(formula = Sepal.Length ~ ., data = df)
  
  Coefficients:
   (Intercept)   Sepal.Width  Petal.Length   Petal.Width  
        2.3519        0.6548        0.2376        0.2521  
  
  
  
  [[2]]
  [[2]][[1]]
  # A tibble: 50 x 4
     Sepal.Length Sepal.Width Petal.Length Petal.Width
            &lt;dbl&gt;       &lt;dbl&gt;        &lt;dbl&gt;       &lt;dbl&gt;
   1          7           3.2          4.7         1.4
   2          6.4         3.2          4.5         1.5
   3          6.9         3.1          4.9         1.5
   4          5.5         2.3          4           1.3
   5          6.5         2.8          4.6         1.5
   6          5.7         2.8          4.5         1.3
   7          6.3         3.3          4.7         1.6
   8          4.9         2.4          3.3         1  
   9          6.6         2.9          4.6         1.3
  10          5.2         2.7          3.9         1.4
  # … with 40 more rows
  
  [[2]][[2]]
  
  Call:
  lm(formula = Sepal.Length ~ ., data = df)
  
  Coefficients:
   (Intercept)   Sepal.Width  Petal.Length   Petal.Width  
        1.8955        0.3869        0.9083       -0.6792  
  
  
  
  [[3]]
  [[3]][[1]]
  # A tibble: 50 x 4
     Sepal.Length Sepal.Width Petal.Length Petal.Width
            &lt;dbl&gt;       &lt;dbl&gt;        &lt;dbl&gt;       &lt;dbl&gt;
   1          6.3         3.3          6           2.5
   2          5.8         2.7          5.1         1.9
   3          7.1         3            5.9         2.1
   4          6.3         2.9          5.6         1.8
   5          6.5         3            5.8         2.2
   6          7.6         3            6.6         2.1
   7          4.9         2.5          4.5         1.7
   8          7.3         2.9          6.3         1.8
   9          6.7         2.5          5.8         1.8
  10          7.2         3.6          6.1         2.5
  # … with 40 more rows
  
  [[3]][[2]]
  
  Call:
  lm(formula = Sepal.Length ~ ., data = df)
  
  Coefficients:
   (Intercept)   Sepal.Width  Petal.Length   Petal.Width  
        0.6999        0.3303        0.9455       -0.1698
```
]

---
count: false
 

.panel1-list_column-auto[

```r
iris %&gt;%
  group_by(Species) %&gt;%
  nest() %&gt;%
  mutate(model = map(data, mod_fun))  %&gt;%
  mutate(n = map2(data, model, list)) -&gt;
  iris_more_mod

iris_more_mod$n -&gt;
* hide
```
]
 
.panel2-list_column-auto[

]

---
count: false
 

.panel1-list_column-auto[

```r
iris %&gt;%
  group_by(Species) %&gt;%
  nest() %&gt;%
  mutate(model = map(data, mod_fun))  %&gt;%
  mutate(n = map2(data, model, list)) -&gt;
  iris_more_mod

iris_more_mod$n -&gt;
  hide

*iris
```
]
 
.panel2-list_column-auto[

```
      Sepal.Length Sepal.Width Petal.Length Petal.Width    Species
  1            5.1         3.5          1.4         0.2     setosa
  2            4.9         3.0          1.4         0.2     setosa
  3            4.7         3.2          1.3         0.2     setosa
  4            4.6         3.1          1.5         0.2     setosa
  5            5.0         3.6          1.4         0.2     setosa
  6            5.4         3.9          1.7         0.4     setosa
  7            4.6         3.4          1.4         0.3     setosa
  8            5.0         3.4          1.5         0.2     setosa
  9            4.4         2.9          1.4         0.2     setosa
  10           4.9         3.1          1.5         0.1     setosa
  11           5.4         3.7          1.5         0.2     setosa
  12           4.8         3.4          1.6         0.2     setosa
  13           4.8         3.0          1.4         0.1     setosa
  14           4.3         3.0          1.1         0.1     setosa
  15           5.8         4.0          1.2         0.2     setosa
  16           5.7         4.4          1.5         0.4     setosa
  17           5.4         3.9          1.3         0.4     setosa
  18           5.1         3.5          1.4         0.3     setosa
  19           5.7         3.8          1.7         0.3     setosa
  20           5.1         3.8          1.5         0.3     setosa
  21           5.4         3.4          1.7         0.2     setosa
  22           5.1         3.7          1.5         0.4     setosa
  23           4.6         3.6          1.0         0.2     setosa
  24           5.1         3.3          1.7         0.5     setosa
  25           4.8         3.4          1.9         0.2     setosa
  26           5.0         3.0          1.6         0.2     setosa
  27           5.0         3.4          1.6         0.4     setosa
  28           5.2         3.5          1.5         0.2     setosa
  29           5.2         3.4          1.4         0.2     setosa
  30           4.7         3.2          1.6         0.2     setosa
  31           4.8         3.1          1.6         0.2     setosa
  32           5.4         3.4          1.5         0.4     setosa
  33           5.2         4.1          1.5         0.1     setosa
  34           5.5         4.2          1.4         0.2     setosa
  35           4.9         3.1          1.5         0.2     setosa
  36           5.0         3.2          1.2         0.2     setosa
  37           5.5         3.5          1.3         0.2     setosa
  38           4.9         3.6          1.4         0.1     setosa
  39           4.4         3.0          1.3         0.2     setosa
  40           5.1         3.4          1.5         0.2     setosa
  41           5.0         3.5          1.3         0.3     setosa
  42           4.5         2.3          1.3         0.3     setosa
  43           4.4         3.2          1.3         0.2     setosa
  44           5.0         3.5          1.6         0.6     setosa
  45           5.1         3.8          1.9         0.4     setosa
  46           4.8         3.0          1.4         0.3     setosa
  47           5.1         3.8          1.6         0.2     setosa
  48           4.6         3.2          1.4         0.2     setosa
  49           5.3         3.7          1.5         0.2     setosa
  50           5.0         3.3          1.4         0.2     setosa
  51           7.0         3.2          4.7         1.4 versicolor
  52           6.4         3.2          4.5         1.5 versicolor
  53           6.9         3.1          4.9         1.5 versicolor
  54           5.5         2.3          4.0         1.3 versicolor
  55           6.5         2.8          4.6         1.5 versicolor
  56           5.7         2.8          4.5         1.3 versicolor
  57           6.3         3.3          4.7         1.6 versicolor
  58           4.9         2.4          3.3         1.0 versicolor
  59           6.6         2.9          4.6         1.3 versicolor
  60           5.2         2.7          3.9         1.4 versicolor
  61           5.0         2.0          3.5         1.0 versicolor
  62           5.9         3.0          4.2         1.5 versicolor
  63           6.0         2.2          4.0         1.0 versicolor
  64           6.1         2.9          4.7         1.4 versicolor
  65           5.6         2.9          3.6         1.3 versicolor
  66           6.7         3.1          4.4         1.4 versicolor
  67           5.6         3.0          4.5         1.5 versicolor
  68           5.8         2.7          4.1         1.0 versicolor
  69           6.2         2.2          4.5         1.5 versicolor
  70           5.6         2.5          3.9         1.1 versicolor
  71           5.9         3.2          4.8         1.8 versicolor
  72           6.1         2.8          4.0         1.3 versicolor
  73           6.3         2.5          4.9         1.5 versicolor
  74           6.1         2.8          4.7         1.2 versicolor
  75           6.4         2.9          4.3         1.3 versicolor
  76           6.6         3.0          4.4         1.4 versicolor
  77           6.8         2.8          4.8         1.4 versicolor
  78           6.7         3.0          5.0         1.7 versicolor
  79           6.0         2.9          4.5         1.5 versicolor
  80           5.7         2.6          3.5         1.0 versicolor
  81           5.5         2.4          3.8         1.1 versicolor
  82           5.5         2.4          3.7         1.0 versicolor
  83           5.8         2.7          3.9         1.2 versicolor
  84           6.0         2.7          5.1         1.6 versicolor
  85           5.4         3.0          4.5         1.5 versicolor
  86           6.0         3.4          4.5         1.6 versicolor
  87           6.7         3.1          4.7         1.5 versicolor
  88           6.3         2.3          4.4         1.3 versicolor
  89           5.6         3.0          4.1         1.3 versicolor
  90           5.5         2.5          4.0         1.3 versicolor
  91           5.5         2.6          4.4         1.2 versicolor
  92           6.1         3.0          4.6         1.4 versicolor
  93           5.8         2.6          4.0         1.2 versicolor
  94           5.0         2.3          3.3         1.0 versicolor
  95           5.6         2.7          4.2         1.3 versicolor
  96           5.7         3.0          4.2         1.2 versicolor
  97           5.7         2.9          4.2         1.3 versicolor
  98           6.2         2.9          4.3         1.3 versicolor
  99           5.1         2.5          3.0         1.1 versicolor
  100          5.7         2.8          4.1         1.3 versicolor
  101          6.3         3.3          6.0         2.5  virginica
  102          5.8         2.7          5.1         1.9  virginica
  103          7.1         3.0          5.9         2.1  virginica
  104          6.3         2.9          5.6         1.8  virginica
  105          6.5         3.0          5.8         2.2  virginica
  106          7.6         3.0          6.6         2.1  virginica
  107          4.9         2.5          4.5         1.7  virginica
  108          7.3         2.9          6.3         1.8  virginica
  109          6.7         2.5          5.8         1.8  virginica
  110          7.2         3.6          6.1         2.5  virginica
  111          6.5         3.2          5.1         2.0  virginica
  112          6.4         2.7          5.3         1.9  virginica
  113          6.8         3.0          5.5         2.1  virginica
  114          5.7         2.5          5.0         2.0  virginica
  115          5.8         2.8          5.1         2.4  virginica
  116          6.4         3.2          5.3         2.3  virginica
  117          6.5         3.0          5.5         1.8  virginica
  118          7.7         3.8          6.7         2.2  virginica
  119          7.7         2.6          6.9         2.3  virginica
  120          6.0         2.2          5.0         1.5  virginica
  121          6.9         3.2          5.7         2.3  virginica
  122          5.6         2.8          4.9         2.0  virginica
  123          7.7         2.8          6.7         2.0  virginica
  124          6.3         2.7          4.9         1.8  virginica
  125          6.7         3.3          5.7         2.1  virginica
  126          7.2         3.2          6.0         1.8  virginica
  127          6.2         2.8          4.8         1.8  virginica
  128          6.1         3.0          4.9         1.8  virginica
  129          6.4         2.8          5.6         2.1  virginica
  130          7.2         3.0          5.8         1.6  virginica
  131          7.4         2.8          6.1         1.9  virginica
  132          7.9         3.8          6.4         2.0  virginica
  133          6.4         2.8          5.6         2.2  virginica
  134          6.3         2.8          5.1         1.5  virginica
  135          6.1         2.6          5.6         1.4  virginica
  136          7.7         3.0          6.1         2.3  virginica
  137          6.3         3.4          5.6         2.4  virginica
  138          6.4         3.1          5.5         1.8  virginica
  139          6.0         3.0          4.8         1.8  virginica
  140          6.9         3.1          5.4         2.1  virginica
  141          6.7         3.1          5.6         2.4  virginica
  142          6.9         3.1          5.1         2.3  virginica
  143          5.8         2.7          5.1         1.9  virginica
  144          6.8         3.2          5.9         2.3  virginica
  145          6.7         3.3          5.7         2.5  virginica
  146          6.7         3.0          5.2         2.3  virginica
  147          6.3         2.5          5.0         1.9  virginica
  148          6.5         3.0          5.2         2.0  virginica
  149          6.2         3.4          5.4         2.3  virginica
  150          5.9         3.0          5.1         1.8  virginica
```
]

---
count: false
 

.panel1-list_column-auto[

```r
iris %&gt;%
  group_by(Species) %&gt;%
  nest() %&gt;%
  mutate(model = map(data, mod_fun))  %&gt;%
  mutate(n = map2(data, model, list)) -&gt;
  iris_more_mod

iris_more_mod$n -&gt;
  hide

iris %&gt;%
* group_by(Species)
```
]
 
.panel2-list_column-auto[

```
  # A tibble: 150 x 5
  # Groups:   Species [3]
     Sepal.Length Sepal.Width Petal.Length Petal.Width Species
            &lt;dbl&gt;       &lt;dbl&gt;        &lt;dbl&gt;       &lt;dbl&gt; &lt;fct&gt;  
   1          5.1         3.5          1.4         0.2 setosa 
   2          4.9         3            1.4         0.2 setosa 
   3          4.7         3.2          1.3         0.2 setosa 
   4          4.6         3.1          1.5         0.2 setosa 
   5          5           3.6          1.4         0.2 setosa 
   6          5.4         3.9          1.7         0.4 setosa 
   7          4.6         3.4          1.4         0.3 setosa 
   8          5           3.4          1.5         0.2 setosa 
   9          4.4         2.9          1.4         0.2 setosa 
  10          4.9         3.1          1.5         0.1 setosa 
  # … with 140 more rows
```
]

---
count: false
 

.panel1-list_column-auto[

```r
iris %&gt;%
  group_by(Species) %&gt;%
  nest() %&gt;%
  mutate(model = map(data, mod_fun))  %&gt;%
  mutate(n = map2(data, model, list)) -&gt;
  iris_more_mod

iris_more_mod$n -&gt;
  hide

iris %&gt;%
  group_by(Species) %&gt;%
* nest()
```
]
 
.panel2-list_column-auto[

```
  # A tibble: 3 x 2
  # Groups:   Species [3]
    Species    data             
    &lt;fct&gt;      &lt;list&gt;           
  1 setosa     &lt;tibble [50 × 4]&gt;
  2 versicolor &lt;tibble [50 × 4]&gt;
  3 virginica  &lt;tibble [50 × 4]&gt;
```
]

---
count: false
 

.panel1-list_column-auto[

```r
iris %&gt;%
  group_by(Species) %&gt;%
  nest() %&gt;%
  mutate(model = map(data, mod_fun))  %&gt;%
  mutate(n = map2(data, model, list)) -&gt;
  iris_more_mod

iris_more_mod$n -&gt;
  hide

iris %&gt;%
  group_by(Species) %&gt;%
  nest() %&gt;%
* mutate(model = map(data, mod_fun))
```
]
 
.panel2-list_column-auto[

```
  # A tibble: 3 x 3
  # Groups:   Species [3]
    Species    data              model 
    &lt;fct&gt;      &lt;list&gt;            &lt;list&gt;
  1 setosa     &lt;tibble [50 × 4]&gt; &lt;lm&gt;  
  2 versicolor &lt;tibble [50 × 4]&gt; &lt;lm&gt;  
  3 virginica  &lt;tibble [50 × 4]&gt; &lt;lm&gt;
```
]

---
count: false
 

.panel1-list_column-auto[

```r
iris %&gt;%
  group_by(Species) %&gt;%
  nest() %&gt;%
  mutate(model = map(data, mod_fun))  %&gt;%
  mutate(n = map2(data, model, list)) -&gt;
  iris_more_mod

iris_more_mod$n -&gt;
  hide

iris %&gt;%
  group_by(Species) %&gt;%
  nest() %&gt;%
  mutate(model = map(data, mod_fun)) %&gt;%
* mutate(n = pmap(list(data, model, data), list))
```
]
 
.panel2-list_column-auto[

```
  # A tibble: 3 x 4
  # Groups:   Species [3]
    Species    data              model  n         
    &lt;fct&gt;      &lt;list&gt;            &lt;list&gt; &lt;list&gt;    
  1 setosa     &lt;tibble [50 × 4]&gt; &lt;lm&gt;   &lt;list [3]&gt;
  2 versicolor &lt;tibble [50 × 4]&gt; &lt;lm&gt;   &lt;list [3]&gt;
  3 virginica  &lt;tibble [50 × 4]&gt; &lt;lm&gt;   &lt;list [3]&gt;
```
]

---
count: false
 

.panel1-list_column-auto[

```r
iris %&gt;%
  group_by(Species) %&gt;%
  nest() %&gt;%
  mutate(model = map(data, mod_fun))  %&gt;%
  mutate(n = map2(data, model, list)) -&gt;
  iris_more_mod

iris_more_mod$n -&gt;
  hide

iris %&gt;%
  group_by(Species) %&gt;%
  nest() %&gt;%
  mutate(model = map(data, mod_fun)) %&gt;%
  mutate(n = pmap(list(data, model, data), list)) -&gt;
*more_manipulations
```
]
 
.panel2-list_column-auto[

]

---
count: false
 

.panel1-list_column-auto[

```r
iris %&gt;%
  group_by(Species) %&gt;%
  nest() %&gt;%
  mutate(model = map(data, mod_fun))  %&gt;%
  mutate(n = map2(data, model, list)) -&gt;
  iris_more_mod

iris_more_mod$n -&gt;
  hide

iris %&gt;%
  group_by(Species) %&gt;%
  nest() %&gt;%
  mutate(model = map(data, mod_fun)) %&gt;%
  mutate(n = pmap(list(data, model, data), list)) -&gt;
more_manipulations

*more_manipulations$n
```
]
 
.panel2-list_column-auto[

```
  [[1]]
  [[1]][[1]]
  # A tibble: 50 x 4
     Sepal.Length Sepal.Width Petal.Length Petal.Width
            &lt;dbl&gt;       &lt;dbl&gt;        &lt;dbl&gt;       &lt;dbl&gt;
   1          5.1         3.5          1.4         0.2
   2          4.9         3            1.4         0.2
   3          4.7         3.2          1.3         0.2
   4          4.6         3.1          1.5         0.2
   5          5           3.6          1.4         0.2
   6          5.4         3.9          1.7         0.4
   7          4.6         3.4          1.4         0.3
   8          5           3.4          1.5         0.2
   9          4.4         2.9          1.4         0.2
  10          4.9         3.1          1.5         0.1
  # … with 40 more rows
  
  [[1]][[2]]
  
  Call:
  lm(formula = Sepal.Length ~ ., data = df)
  
  Coefficients:
   (Intercept)   Sepal.Width  Petal.Length   Petal.Width  
        2.3519        0.6548        0.2376        0.2521  
  
  
  [[1]][[3]]
  # A tibble: 50 x 4
     Sepal.Length Sepal.Width Petal.Length Petal.Width
            &lt;dbl&gt;       &lt;dbl&gt;        &lt;dbl&gt;       &lt;dbl&gt;
   1          5.1         3.5          1.4         0.2
   2          4.9         3            1.4         0.2
   3          4.7         3.2          1.3         0.2
   4          4.6         3.1          1.5         0.2
   5          5           3.6          1.4         0.2
   6          5.4         3.9          1.7         0.4
   7          4.6         3.4          1.4         0.3
   8          5           3.4          1.5         0.2
   9          4.4         2.9          1.4         0.2
  10          4.9         3.1          1.5         0.1
  # … with 40 more rows
  
  
  [[2]]
  [[2]][[1]]
  # A tibble: 50 x 4
     Sepal.Length Sepal.Width Petal.Length Petal.Width
            &lt;dbl&gt;       &lt;dbl&gt;        &lt;dbl&gt;       &lt;dbl&gt;
   1          7           3.2          4.7         1.4
   2          6.4         3.2          4.5         1.5
   3          6.9         3.1          4.9         1.5
   4          5.5         2.3          4           1.3
   5          6.5         2.8          4.6         1.5
   6          5.7         2.8          4.5         1.3
   7          6.3         3.3          4.7         1.6
   8          4.9         2.4          3.3         1  
   9          6.6         2.9          4.6         1.3
  10          5.2         2.7          3.9         1.4
  # … with 40 more rows
  
  [[2]][[2]]
  
  Call:
  lm(formula = Sepal.Length ~ ., data = df)
  
  Coefficients:
   (Intercept)   Sepal.Width  Petal.Length   Petal.Width  
        1.8955        0.3869        0.9083       -0.6792  
  
  
  [[2]][[3]]
  # A tibble: 50 x 4
     Sepal.Length Sepal.Width Petal.Length Petal.Width
            &lt;dbl&gt;       &lt;dbl&gt;        &lt;dbl&gt;       &lt;dbl&gt;
   1          7           3.2          4.7         1.4
   2          6.4         3.2          4.5         1.5
   3          6.9         3.1          4.9         1.5
   4          5.5         2.3          4           1.3
   5          6.5         2.8          4.6         1.5
   6          5.7         2.8          4.5         1.3
   7          6.3         3.3          4.7         1.6
   8          4.9         2.4          3.3         1  
   9          6.6         2.9          4.6         1.3
  10          5.2         2.7          3.9         1.4
  # … with 40 more rows
  
  
  [[3]]
  [[3]][[1]]
  # A tibble: 50 x 4
     Sepal.Length Sepal.Width Petal.Length Petal.Width
            &lt;dbl&gt;       &lt;dbl&gt;        &lt;dbl&gt;       &lt;dbl&gt;
   1          6.3         3.3          6           2.5
   2          5.8         2.7          5.1         1.9
   3          7.1         3            5.9         2.1
   4          6.3         2.9          5.6         1.8
   5          6.5         3            5.8         2.2
   6          7.6         3            6.6         2.1
   7          4.9         2.5          4.5         1.7
   8          7.3         2.9          6.3         1.8
   9          6.7         2.5          5.8         1.8
  10          7.2         3.6          6.1         2.5
  # … with 40 more rows
  
  [[3]][[2]]
  
  Call:
  lm(formula = Sepal.Length ~ ., data = df)
  
  Coefficients:
   (Intercept)   Sepal.Width  Petal.Length   Petal.Width  
        0.6999        0.3303        0.9455       -0.1698  
  
  
  [[3]][[3]]
  # A tibble: 50 x 4
     Sepal.Length Sepal.Width Petal.Length Petal.Width
            &lt;dbl&gt;       &lt;dbl&gt;        &lt;dbl&gt;       &lt;dbl&gt;
   1          6.3         3.3          6           2.5
   2          5.8         2.7          5.1         1.9
   3          7.1         3            5.9         2.1
   4          6.3         2.9          5.6         1.8
   5          6.5         3            5.8         2.2
   6          7.6         3            6.6         2.1
   7          4.9         2.5          4.5         1.7
   8          7.3         2.9          6.3         1.8
   9          6.7         2.5          5.8         1.8
  10          7.2         3.6          6.1         2.5
  # … with 40 more rows
```
]

&lt;style&gt;
.panel1-list_column-auto {
  color: black;
  width: 38.6060606060606%;
  hight: 32%;
  float: left;
  padding-left: 1%;
  font-size: 80%
}
.panel2-list_column-auto {
  color: black;
  width: 59.3939393939394%;
  hight: 32%;
  float: left;
  padding-left: 1%;
  font-size: 80%
}
.panel3-list_column-auto {
  color: black;
  width: NA%;
  hight: 33%;
  float: left;
  padding-left: 1%;
  font-size: 80%
}
&lt;/style&gt;


  













---


# End!



&lt;style type="text/css"&gt;
.remark-code{line-height: 1.5; font-size: 90%}
&lt;/style&gt;
    </textarea>
<style data-target="print-only">@media screen {.remark-slide-container{display:block;}.remark-slide-scaler{box-shadow:none;}}</style>
<script src="libs/remark-latest.min.js"></script>
<script>var slideshow = remark.create({
"ratio": "16:9",
"highlightLines": true
});
if (window.HTMLWidgets) slideshow.on('afterShowSlide', function (slide) {
  window.dispatchEvent(new Event('resize'));
});
(function(d) {
  var s = d.createElement("style"), r = d.querySelector(".remark-slide-scaler");
  if (!r) return;
  s.type = "text/css"; s.innerHTML = "@page {size: " + r.style.width + " " + r.style.height +"; }";
  d.head.appendChild(s);
})(document);

(function(d) {
  var el = d.getElementsByClassName("remark-slides-area");
  if (!el) return;
  var slide, slides = slideshow.getSlides(), els = el[0].children;
  for (var i = 1; i < slides.length; i++) {
    slide = slides[i];
    if (slide.properties.continued === "true" || slide.properties.count === "false") {
      els[i - 1].className += ' has-continuation';
    }
  }
  var s = d.createElement("style");
  s.type = "text/css"; s.innerHTML = "@media print { .has-continuation { display: none; } }";
  d.head.appendChild(s);
})(document);
// delete the temporary CSS (for displaying all slides initially) when the user
// starts to view slides
(function() {
  var deleted = false;
  slideshow.on('beforeShowSlide', function(slide) {
    if (deleted) return;
    var sheets = document.styleSheets, node;
    for (var i = 0; i < sheets.length; i++) {
      node = sheets[i].ownerNode;
      if (node.dataset["target"] !== "print-only") continue;
      node.parentNode.removeChild(node);
    }
    deleted = true;
  });
})();
(function() {
  "use strict"
  // Replace <script> tags in slides area to make them executable
  var scripts = document.querySelectorAll(
    '.remark-slides-area .remark-slide-container script'
  );
  if (!scripts.length) return;
  for (var i = 0; i < scripts.length; i++) {
    var s = document.createElement('script');
    var code = document.createTextNode(scripts[i].textContent);
    s.appendChild(code);
    var scriptAttrs = scripts[i].attributes;
    for (var j = 0; j < scriptAttrs.length; j++) {
      s.setAttribute(scriptAttrs[j].name, scriptAttrs[j].value);
    }
    scripts[i].parentElement.replaceChild(s, scripts[i]);
  }
})();
(function() {
  var links = document.getElementsByTagName('a');
  for (var i = 0; i < links.length; i++) {
    if (/^(https?:)?\/\//.test(links[i].getAttribute('href'))) {
      links[i].target = '_blank';
    }
  }
})();
// adds .remark-code-has-line-highlighted class to <pre> parent elements
// of code chunks containing highlighted lines with class .remark-code-line-highlighted
(function(d) {
  const hlines = d.querySelectorAll('.remark-code-line-highlighted');
  const preParents = [];
  const findPreParent = function(line, p = 0) {
    if (p > 1) return null; // traverse up no further than grandparent
    const el = line.parentElement;
    return el.tagName === "PRE" ? el : findPreParent(el, ++p);
  };

  for (let line of hlines) {
    let pre = findPreParent(line);
    if (pre && !preParents.includes(pre)) preParents.push(pre);
  }
  preParents.forEach(p => p.classList.add("remark-code-has-line-highlighted"));
})(document);</script>

<script>
slideshow._releaseMath = function(el) {
  var i, text, code, codes = el.getElementsByTagName('code');
  for (i = 0; i < codes.length;) {
    code = codes[i];
    if (code.parentNode.tagName !== 'PRE' && code.childElementCount === 0) {
      text = code.textContent;
      if (/^\\\((.|\s)+\\\)$/.test(text) || /^\\\[(.|\s)+\\\]$/.test(text) ||
          /^\$\$(.|\s)+\$\$$/.test(text) ||
          /^\\begin\{([^}]+)\}(.|\s)+\\end\{[^}]+\}$/.test(text)) {
        code.outerHTML = code.innerHTML;  // remove <code></code>
        continue;
      }
    }
    i++;
  }
};
slideshow._releaseMath(document);
</script>
<!-- dynamically load mathjax for compatibility with self-contained -->
<script>
(function () {
  var script = document.createElement('script');
  script.type = 'text/javascript';
  script.src  = 'https://mathjax.rstudio.com/latest/MathJax.js?config=TeX-MML-AM_CHTML';
  if (location.protocol !== 'file:' && /^https?:/.test(script.src))
    script.src  = script.src.replace(/^https?:/, '');
  document.getElementsByTagName('head')[0].appendChild(script);
})();
</script>
  </body>
</html>
